<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Open documentation for open Network OS" name=description><meta content="SR Linux" name=author><link href=https://learn.srlinux.dev/tutorials/programmability/json-rpc/basics/ rel=canonical><link href=../../event-handler/oper-group/summary/ rel=prev><link href=../ansible/ rel=next><link href=../../../../feed_rss_created.xml rel=alternate title="RSS feed" type=application/rss+xml><link href=../../../../feed_rss_updated.xml rel=alternate title="RSS feed of updated content" type=application/rss+xml><link href=../../../../images/srlinux.svg rel=icon><meta content="mkdocs-1.4.2, mkdocs-material-9.0.13+insiders-4.32.0" name=generator><title>JSON-RPC Basics - Learn SR Linux</title><link href=../../../../assets/stylesheets/main.22245cb8.min.css rel=stylesheet><link href=../../../../assets/stylesheets/palette.6932e648.min.css rel=stylesheet><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=NokiaPureText:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"NokiaPureText";--md-code-font:"Fira Code"}</style><link href=../../../../stylesheets/nokia.css rel=stylesheet><link href=../../../../stylesheets/nokia-fonts.css rel=stylesheet><link href=../../../../stylesheets/diagrams.css rel=stylesheet><link href=../../../../stylesheets/animations.css rel=stylesheet><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-VNYX781Q48"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-VNYX781Q48",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-VNYX781Q48",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta content=website property=og:type><meta content="Learn SR Linux - JSON-RPC Basics" property=og:title><meta content="Open documentation for open Network OS" property=og:description><meta content=https://learn.srlinux.dev/tutorials/programmability/json-rpc/basics/ property=og:url><meta content=https://learn.srlinux.dev/images/site-card.png property=og:image><meta content=image/png property=og:image:type><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><!-- Twitter card tags --><meta content=summary_large_image name=twitter:card><meta content="Learn SR Linux - JSON-RPC Basics" name=twitter:title><meta content="Open documentation for open Network OS" name=twitter:description><meta content=https://learn.srlinux.dev/images/site-card.png name=twitter:image><!-- NOINDEX --><link href=../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src=../../../../assets/javascripts/glightbox.min.js></script></head> <body data-md-color-accent data-md-color-primary data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#json-rpc-basics> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button aria-label="Don't show this again" class="md-banner__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> <a href=https://github.com/nokia/srlinux-container-image> <span class=twemoji> <img alt=🥳 class=twemoji src=https://raw.githubusercontent.com/twitter/twemoji/master/assets/svg/1f973.svg title=:partying_face:> </span> Enjoy the most recent <strong>SR Linux 22.11.2</strong> release! </a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header__inner md-grid"> <a aria-label="Learn SR Linux" class="md-header__button md-logo" data-md-component=logo href=../../../.. title="Learn SR Linux"> <?xml version="1.0" encoding="utf-8"?> <svg height=512 viewbox="0 0 512 512" width=512 xmlns=http://www.w3.org/2000/svg> <rect class=st0 height=512 style="fill: rgb(255, 255, 255);" width=512></rect> <g style transform="matrix(6.08856, 0, 0, 5.722229, -163.634598, -134.644638)"> <path class=st1 d="M45.2,59.4c0.9,0.6,2.2,1.1,4,1.7c1.8,0.6,3.8,0.9,6.2,0.9c2.5,0,4.3-0.5,5.5-1.5c1.2-1,1.8-2.4,1.8-4.1 c0-0.6-0.1-1.2-0.2-1.8c-0.2-0.6-0.5-1.1-0.9-1.6c-0.4-0.5-1-1-1.8-1.4c-0.8-0.4-1.7-0.8-2.9-1.1l-4.1-1.2 c-2.7-0.7-4.8-1.9-6.5-3.4c-1.6-1.5-2.4-3.6-2.4-6.2c0-1.4,0.2-2.7,0.8-3.9s1.2-2.3,2.2-3.2c1-0.9,2.2-1.7,3.7-2.2 c1.4-0.5,3.1-0.8,5-0.8c2.3,0,4.4,0.3,6.2,0.8c1.9,0.5,3.3,1.2,4.4,1.9l-1.7,3.5c-0.3-0.2-0.8-0.4-1.5-0.7 c-0.6-0.2-1.4-0.5-2.2-0.7c-0.8-0.2-1.7-0.4-2.6-0.5c-0.9-0.2-1.9-0.2-2.8-0.2c-2.2,0-4,0.5-5.2,1.5c-1.2,1-1.8,2.4-1.8,4.1 c0,1.5,0.5,2.7,1.4,3.6c0.9,0.9,2.4,1.6,4.6,2.2l4.1,1.2c2.9,0.8,5.2,2,6.7,3.5c1.5,1.5,2.2,3.7,2.2,6.4c0,1.5-0.3,2.9-0.8,4.1 s-1.3,2.3-2.3,3.2c-1,0.9-2.3,1.6-3.8,2.1c-1.5,0.5-3.2,0.7-5.1,0.7c-1.7,0-3.2-0.1-4.6-0.4c-1.4-0.3-2.6-0.6-3.6-0.9 c-1-0.3-1.9-0.7-2.5-1.1c-0.7-0.4-1.1-0.6-1.4-0.8L45.2,59.4z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M 97.5 65.4 L 92.1 65.4 L 83.7 51.2 L 78.5 51.2 L 78.5 65.4 L 74 65.4 L 74 30.3 L 84.2 30.3 C 86.4 30.3 88.2 30.6 89.6 31.3 C 91.1 32 92.2 32.8 93.1 33.9 C 94 35 94.6 36.1 95 37.3 C 95.4 38.5 95.5 39.7 95.5 40.8 C 95.5 43.3 94.9 45.4 93.6 47 C 92.3 48.6 90.5 49.8 88.2 50.6 L 97.5 65.4 Z M 83.81 47.191 C 86.21 47.191 88 46.7 89.2 45.6 C 90.4 44.4 91 42.9 91 40.8 C 91 38.8 90.4 37.2 89.2 36 C 88 34.8 86.3 34.2 84.1 34.2 L 78.6 34.2 L 78.6 47.2 L 83.8 47.2 L 83.81 47.191 Z" style="fill: rgb(0, 0, 0);"></path> </g> <g style transform="matrix(5.538847, 0, 0, 5.68973, -136.858704, -157.860214)"> <path class=st1 d=M46.2,109.9h-14V85.3h3.2V107h10.7V109.9z style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M51.5,88.8c-0.6,0-1.1-0.2-1.5-0.6c-0.4-0.4-0.5-0.9-0.5-1.5c0-0.6,0.2-1.1,0.5-1.5c0.4-0.4,0.9-0.6,1.5-0.6 s1.1,0.2,1.5,0.6c0.4,0.4,0.5,0.9,0.5,1.5s-0.2,1.1-0.5,1.5C52.6,88.6,52.1,88.8,51.5,88.8z M53.1,109.9H50V92.4h3.1V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M73,109.9h-3.1V99.1c0-0.9-0.1-1.6-0.3-2.2c-0.2-0.6-0.4-1-0.8-1.4c-0.3-0.3-0.7-0.6-1.2-0.7s-0.9-0.2-1.4-0.2 c-0.9,0-1.7,0.2-2.3,0.5c-0.6,0.4-1.2,0.9-1.6,1.5c-0.4,0.6-0.7,1.3-0.9,2.1c-0.2,0.8-0.3,1.6-0.3,2.5v8.6h-3.1V92.4H61l0.1,2.4 c0.1-0.3,0.4-0.6,0.7-0.9c0.3-0.3,0.7-0.7,1.2-0.9c0.5-0.3,1-0.5,1.7-0.7s1.4-0.3,2.2-0.3c2,0,3.6,0.6,4.6,1.7s1.6,2.8,1.6,4.8 V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M92.7,109.9h-2.9l-0.1-2.3c-0.1,0.3-0.4,0.6-0.7,0.9c-0.3,0.3-0.7,0.6-1.2,0.9c-0.5,0.3-1,0.5-1.7,0.7 c-0.6,0.2-1.4,0.3-2.2,0.3c-2,0-3.6-0.6-4.6-1.7c-1.1-1.2-1.6-2.8-1.6-4.8V92.4H81v11c0,0.8,0.1,1.5,0.3,2.1c0.2,0.5,0.4,1,0.7,1.3 c0.3,0.3,0.7,0.6,1.1,0.7c0.4,0.1,0.9,0.2,1.5,0.2c0.9,0,1.7-0.2,2.3-0.5c0.6-0.4,1.2-0.9,1.6-1.5s0.7-1.3,0.9-2.1 c0.2-0.8,0.3-1.6,0.3-2.5v-8.6h3.1V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d=M112,109.9h-3.7l-4.6-6.7l-4.6,6.7h-3.3l6.3-9l-5.9-8.5h3.7l4,5.8l4-5.8h3.3l-5.7,8.2L112,109.9z style="fill: rgb(0, 0, 0);"></path> </g> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Learn SR Linux </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> JSON-RPC Basics </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=Search required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=Search class=md-search__options> <button aria-label=Clear class="md-search__icon md-icon" tabindex=-1 title=Clear type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/srl-labs/learn-srlinux title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class=md-source__repository> srl-labs/learn-srlinux </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=Tabs class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../../../..> Home </a> </li> <li class=md-tabs__item> <a href=../../../../get-started/ class=md-tabs__link> Get Started </a> </li> <li class=md-tabs__item> <a href=../../../../mgmt/ class=md-tabs__link> Management </a> </li> <li class=md-tabs__item> <a href=../../../../programmability/ class=md-tabs__link> Programmability </a> </li> <li class=md-tabs__item> <a href=../../../ class="md-tabs__link md-tabs__link--active"> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../../../community/ class=md-tabs__link> Community </a> </li> <li class=md-tabs__item> <a href=../../../../blog/ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="Learn SR Linux" class="md-nav__button md-logo" data-md-component=logo href=../../../.. title="Learn SR Linux"> <?xml version="1.0" encoding="utf-8"?> <svg height=512 viewbox="0 0 512 512" width=512 xmlns=http://www.w3.org/2000/svg> <rect class=st0 height=512 style="fill: rgb(255, 255, 255);" width=512></rect> <g style transform="matrix(6.08856, 0, 0, 5.722229, -163.634598, -134.644638)"> <path class=st1 d="M45.2,59.4c0.9,0.6,2.2,1.1,4,1.7c1.8,0.6,3.8,0.9,6.2,0.9c2.5,0,4.3-0.5,5.5-1.5c1.2-1,1.8-2.4,1.8-4.1 c0-0.6-0.1-1.2-0.2-1.8c-0.2-0.6-0.5-1.1-0.9-1.6c-0.4-0.5-1-1-1.8-1.4c-0.8-0.4-1.7-0.8-2.9-1.1l-4.1-1.2 c-2.7-0.7-4.8-1.9-6.5-3.4c-1.6-1.5-2.4-3.6-2.4-6.2c0-1.4,0.2-2.7,0.8-3.9s1.2-2.3,2.2-3.2c1-0.9,2.2-1.7,3.7-2.2 c1.4-0.5,3.1-0.8,5-0.8c2.3,0,4.4,0.3,6.2,0.8c1.9,0.5,3.3,1.2,4.4,1.9l-1.7,3.5c-0.3-0.2-0.8-0.4-1.5-0.7 c-0.6-0.2-1.4-0.5-2.2-0.7c-0.8-0.2-1.7-0.4-2.6-0.5c-0.9-0.2-1.9-0.2-2.8-0.2c-2.2,0-4,0.5-5.2,1.5c-1.2,1-1.8,2.4-1.8,4.1 c0,1.5,0.5,2.7,1.4,3.6c0.9,0.9,2.4,1.6,4.6,2.2l4.1,1.2c2.9,0.8,5.2,2,6.7,3.5c1.5,1.5,2.2,3.7,2.2,6.4c0,1.5-0.3,2.9-0.8,4.1 s-1.3,2.3-2.3,3.2c-1,0.9-2.3,1.6-3.8,2.1c-1.5,0.5-3.2,0.7-5.1,0.7c-1.7,0-3.2-0.1-4.6-0.4c-1.4-0.3-2.6-0.6-3.6-0.9 c-1-0.3-1.9-0.7-2.5-1.1c-0.7-0.4-1.1-0.6-1.4-0.8L45.2,59.4z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M 97.5 65.4 L 92.1 65.4 L 83.7 51.2 L 78.5 51.2 L 78.5 65.4 L 74 65.4 L 74 30.3 L 84.2 30.3 C 86.4 30.3 88.2 30.6 89.6 31.3 C 91.1 32 92.2 32.8 93.1 33.9 C 94 35 94.6 36.1 95 37.3 C 95.4 38.5 95.5 39.7 95.5 40.8 C 95.5 43.3 94.9 45.4 93.6 47 C 92.3 48.6 90.5 49.8 88.2 50.6 L 97.5 65.4 Z M 83.81 47.191 C 86.21 47.191 88 46.7 89.2 45.6 C 90.4 44.4 91 42.9 91 40.8 C 91 38.8 90.4 37.2 89.2 36 C 88 34.8 86.3 34.2 84.1 34.2 L 78.6 34.2 L 78.6 47.2 L 83.8 47.2 L 83.81 47.191 Z" style="fill: rgb(0, 0, 0);"></path> </g> <g style transform="matrix(5.538847, 0, 0, 5.68973, -136.858704, -157.860214)"> <path class=st1 d=M46.2,109.9h-14V85.3h3.2V107h10.7V109.9z style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M51.5,88.8c-0.6,0-1.1-0.2-1.5-0.6c-0.4-0.4-0.5-0.9-0.5-1.5c0-0.6,0.2-1.1,0.5-1.5c0.4-0.4,0.9-0.6,1.5-0.6 s1.1,0.2,1.5,0.6c0.4,0.4,0.5,0.9,0.5,1.5s-0.2,1.1-0.5,1.5C52.6,88.6,52.1,88.8,51.5,88.8z M53.1,109.9H50V92.4h3.1V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M73,109.9h-3.1V99.1c0-0.9-0.1-1.6-0.3-2.2c-0.2-0.6-0.4-1-0.8-1.4c-0.3-0.3-0.7-0.6-1.2-0.7s-0.9-0.2-1.4-0.2 c-0.9,0-1.7,0.2-2.3,0.5c-0.6,0.4-1.2,0.9-1.6,1.5c-0.4,0.6-0.7,1.3-0.9,2.1c-0.2,0.8-0.3,1.6-0.3,2.5v8.6h-3.1V92.4H61l0.1,2.4 c0.1-0.3,0.4-0.6,0.7-0.9c0.3-0.3,0.7-0.7,1.2-0.9c0.5-0.3,1-0.5,1.7-0.7s1.4-0.3,2.2-0.3c2,0,3.6,0.6,4.6,1.7s1.6,2.8,1.6,4.8 V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d="M92.7,109.9h-2.9l-0.1-2.3c-0.1,0.3-0.4,0.6-0.7,0.9c-0.3,0.3-0.7,0.6-1.2,0.9c-0.5,0.3-1,0.5-1.7,0.7 c-0.6,0.2-1.4,0.3-2.2,0.3c-2,0-3.6-0.6-4.6-1.7c-1.1-1.2-1.6-2.8-1.6-4.8V92.4H81v11c0,0.8,0.1,1.5,0.3,2.1c0.2,0.5,0.4,1,0.7,1.3 c0.3,0.3,0.7,0.6,1.1,0.7c0.4,0.1,0.9,0.2,1.5,0.2c0.9,0,1.7-0.2,2.3-0.5c0.6-0.4,1.2-0.9,1.6-1.5s0.7-1.3,0.9-2.1 c0.2-0.8,0.3-1.6,0.3-2.5v-8.6h3.1V109.9z" style="fill: rgb(0, 0, 0);"></path> <path class=st1 d=M112,109.9h-3.7l-4.6-6.7l-4.6,6.7h-3.3l6.3-9l-5.9-8.5h3.7l4,5.8l4-5.8h3.3l-5.7,8.2L112,109.9z style="fill: rgb(0, 0, 0);"></path> </g> </svg> </a> Learn SR Linux </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/srl-labs/learn-srlinux title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </div> <div class=md-source__repository> srl-labs/learn-srlinux </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../../..> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../get-started/ class=md-nav__link> <span class=md-ellipsis> Get Started </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_3 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../mgmt/ class=md-nav__link> <span class=md-ellipsis> Management </span> </a> </div> <nav aria-expanded=false aria-labelledby=__nav_3_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Management </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../programmability/ class=md-nav__link> <span class=md-ellipsis> Programmability </span> </a> <label class=md-nav__link for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_4_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Programmability </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_2 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../yang/ class=md-nav__link> <span class=md-ellipsis> YANG </span> </a> <label class=md-nav__link for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_4_2_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> YANG </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../yang/browser/ class=md-nav__link> <span class=md-ellipsis> YANG Browser </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_3 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../ndk/ class=md-nav__link> <span class=md-ellipsis> NDK </span> </a> <label class=md-nav__link for=__nav_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_4_3_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> NDK </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_3_2 type=checkbox> <label class=md-nav__link for=__nav_4_3_2 id=__nav_4_3_2_label tabindex=0> <span class=md-ellipsis> Developers Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_3_2_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_2> <span class="md-nav__icon md-icon"></span> Developers Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ndk/guide/architecture/ class=md-nav__link> <span class=md-ellipsis> NDK Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/guide/agent/ class=md-nav__link> <span class=md-ellipsis> Agent Structure </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/guide/agent-install-and-ops/ class=md-nav__link> <span class=md-ellipsis> Agent Installation &amp; Operations </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_3_2_4 type=checkbox> <label class=md-nav__link for=__nav_4_3_2_4 id=__nav_4_3_2_4_label tabindex=0> <span class=md-ellipsis> Environment Setup </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_3_2_4_label class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_4> <span class="md-nav__icon md-icon"></span> Environment Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ndk/guide/env/go/ class=md-nav__link> <span class=md-ellipsis> Go </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/guide/env/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_3_2_5 type=checkbox> <label class=md-nav__link for=__nav_4_3_2_5 id=__nav_4_3_2_5_label tabindex=0> <span class=md-ellipsis> Developing with NDK </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_4_3_2_5_label class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_4_3_2_5> <span class="md-nav__icon md-icon"></span> Developing with NDK </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ndk/guide/dev/go/ class=md-nav__link> <span class=md-ellipsis> Go </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/guide/dev/python/ class=md-nav__link> <span class=md-ellipsis> Python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_4_3_3 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../ndk/apps/ class=md-nav__link> <span class=md-ellipsis> App Catalog </span> </a> <label class=md-nav__link for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_4_3_3_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_4_3_3> <span class="md-nav__icon md-icon"></span> App Catalog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ndk/apps/evpn-proxy/ class=md-nav__link> <span class=md-ellipsis> EVPN Proxy </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/apps/kbutler/ class=md-nav__link> <span class=md-ellipsis> kButler </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/apps/srl-prom-exporter/ class=md-nav__link> <span class=md-ellipsis> Prometheus Telemetry Exporter </span> </a> </li> <li class=md-nav__item> <a href=../../../../ndk/apps/satellite/ class=md-nav__link> <span class=md-ellipsis> Satellite Tracker </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_5 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../ class=md-nav__link> <span class=md-ellipsis> Tutorials </span> </a> <label class=md-nav__link for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=true aria-labelledby=__nav_5_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_2 type=checkbox> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> EVPN </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_2_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> EVPN </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_2_1 type=checkbox> <label class=md-nav__link for=__nav_5_2_1 id=__nav_5_2_1_label tabindex=0> <span class=md-ellipsis> Layer 2 EVPN </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_2_1_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_2_1> <span class="md-nav__icon md-icon"></span> Layer 2 EVPN </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../l2evpn/intro/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../l2evpn/fabric/ class=md-nav__link> <span class=md-ellipsis> Fabric configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../l2evpn/evpn/ class=md-nav__link> <span class=md-ellipsis> EVPN configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../l2evpn/summary/ class=md-nav__link> <span class=md-ellipsis> Summary </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_3 type=checkbox> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Infrastructure </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_3_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_3_1 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../infrastructure/kne/ class=md-nav__link> <span class=md-ellipsis> KNE </span> </a> <label class=md-nav__link for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_5_3_1_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_3_1> <span class="md-nav__icon md-icon"></span> KNE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../infrastructure/kne/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../infrastructure/kne/topology/ class=md-nav__link> <span class=md-ellipsis> Topology </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_3_1_4 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../infrastructure/kne/srl-with-oc-services/ class=md-nav__link> <span class=md-ellipsis> SR Linux with Openconfig services </span> </a> </div> <nav aria-expanded=false aria-labelledby=__nav_5_3_1_4_label class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_5_3_1_4> <span class="md-nav__icon md-icon"></span> SR Linux with Openconfig services </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_4 type=checkbox> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> MPLS </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_4_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> MPLS </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_4_1 type=checkbox> <label class=md-nav__link for=__nav_5_4_1 id=__nav_5_4_1_label tabindex=0> <span class=md-ellipsis> LDP-based MPLS </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_4_1_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_4_1> <span class="md-nav__icon md-icon"></span> LDP-based MPLS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mpls/mpls-ldp/intro/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../mpls/mpls-ldp/routing/ class=md-nav__link> <span class=md-ellipsis> Routing </span> </a> </li> <li class=md-nav__item> <a href=../../../mpls/mpls-ldp/ldp/ class=md-nav__link> <span class=md-ellipsis> LDP </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_5_5 type=checkbox> <label class=md-nav__link for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class=md-ellipsis> Programmability </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_5_5_label class=md-nav data-md-level=2> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Programmability </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_5_1 type=checkbox> <label class=md-nav__link for=__nav_5_5_1 id=__nav_5_5_1_label tabindex=0> <span class=md-ellipsis> Event Handler </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_5_1_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_5_1> <span class="md-nav__icon md-icon"></span> Event Handler </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_5_5_1_1 type=checkbox> <label class=md-nav__link for=__nav_5_5_1_1 id=__nav_5_5_1_1_label tabindex=0> <span class=md-ellipsis> Oper Group </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=false aria-labelledby=__nav_5_5_1_1_label class=md-nav data-md-level=4> <label class=md-nav__title for=__nav_5_5_1_1> <span class="md-nav__icon md-icon"></span> Oper Group </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../event-handler/oper-group/oper-group-intro/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/lab/ class=md-nav__link> <span class=md-ellipsis> Lab setup </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/problem-statement/ class=md-nav__link> <span class=md-ellipsis> Problem statement </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/oper-group-cfg/ class=md-nav__link> <span class=md-ellipsis> Configuring oper-group </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/script/ class=md-nav__link> <span class=md-ellipsis> Script </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/opergroup-operation/ class=md-nav__link> <span class=md-ellipsis> Oper group in action </span> </a> </li> <li class=md-nav__item> <a href=../../event-handler/oper-group/summary/ class=md-nav__link> <span class=md-ellipsis> Summary </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_5_5_2 type=checkbox> <label class=md-nav__link for=__nav_5_5_2 id=__nav_5_5_2_label tabindex=0> <span class=md-ellipsis> JSON-RPC </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_5_5_2_label class=md-nav data-md-level=3> <label class=md-nav__title for=__nav_5_5_2> <span class="md-nav__icon md-icon"></span> JSON-RPC </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Basics </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Basics </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#why-json-rpc> <span class=md-ellipsis> Why JSON-RPC? </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#json-rpc-methods> <span class=md-ellipsis> JSON-RPC methods </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuring-json-rpc> <span class=md-ellipsis> Configuring JSON-RPC </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#requestresponse-structure> <span class=md-ellipsis> Request/response structure </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#authentication> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#methods> <span class=md-ellipsis> Methods </span> </a> <nav aria-label=Methods class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#get> <span class=md-ellipsis> Get </span> </a> <nav aria-label=Get class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#path> <span class=md-ellipsis> Path </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#datastore> <span class=md-ellipsis> Datastore </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-commands> <span class=md-ellipsis> Multiple commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#set> <span class=md-ellipsis> Set </span> </a> <nav aria-label=Set class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#update> <span class=md-ellipsis> Update </span> </a> <nav aria-label=Update class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#action> <span class=md-ellipsis> Action </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#path-value-formats> <span class=md-ellipsis> Path value formats </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#replace> <span class=md-ellipsis> Replace </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#delete> <span class=md-ellipsis> Delete </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-actions> <span class=md-ellipsis> Multiple actions </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tools-commands> <span class=md-ellipsis> Tools commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#validate> <span class=md-ellipsis> Validate </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#cli> <span class=md-ellipsis> CLI </span> </a> <nav aria-label=CLI class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#output-format> <span class=md-ellipsis> Output format </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#context-switching> <span class=md-ellipsis> Context switching </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuration> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tools-commands_1> <span class=md-ellipsis> Tools commands </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#https> <span class=md-ellipsis> HTTPS </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#error-handling> <span class=md-ellipsis> Error handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ansible/ class=md-nav__link> <span class=md-ellipsis> Ansible </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../community/ class=md-nav__link> <span class=md-ellipsis> Community </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_7 type=checkbox> <div class="md-nav__link md-nav__container"> <a href=../../../../blog/ class=md-nav__link> <span class=md-ellipsis> Blog </span> </a> <label class=md-nav__link for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded=false aria-labelledby=__nav_7_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../blog/subscribe/ class=md-nav__link> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"></path></svg> <span class=md-ellipsis> Subscribe </span> </a> </li> <li class=md-nav__item> <a href=../../../../blog/tags/ class=md-nav__link> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59.55 0 1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42Z"></path></svg> <span class=md-ellipsis> Tags </span> </a> </li> <li class=md-nav__item> <a href=../../../../blog/media/ class=md-nav__link> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148 0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148 1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224 0 100.3 100.3 0 224 0s224 100.3 224 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2-5.8-9.7-13.5-17-21.9-22.4 19.5-17.6 31.8-43 31.8-71.3 0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3-8.4 5.4-16.1 12.7-21.9 22.4-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8 0 33-12.9 104.1-20.6 132.9-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4C172.8 460.2 160 389 160 355.9c0-35.1 31.1-43.8 64-43.8zm0-32c-30.9 0-56-25.1-56-56s25.1-56 56-56 56 25.1 56 56-25.1 56-56 56z"></path></svg> <span class=md-ellipsis> In the Media </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#why-json-rpc> <span class=md-ellipsis> Why JSON-RPC? </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#json-rpc-methods> <span class=md-ellipsis> JSON-RPC methods </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuring-json-rpc> <span class=md-ellipsis> Configuring JSON-RPC </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#requestresponse-structure> <span class=md-ellipsis> Request/response structure </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#authentication> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#methods> <span class=md-ellipsis> Methods </span> </a> <nav aria-label=Methods class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#get> <span class=md-ellipsis> Get </span> </a> <nav aria-label=Get class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#path> <span class=md-ellipsis> Path </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#datastore> <span class=md-ellipsis> Datastore </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-commands> <span class=md-ellipsis> Multiple commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#set> <span class=md-ellipsis> Set </span> </a> <nav aria-label=Set class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#update> <span class=md-ellipsis> Update </span> </a> <nav aria-label=Update class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#action> <span class=md-ellipsis> Action </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#path-value-formats> <span class=md-ellipsis> Path value formats </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#replace> <span class=md-ellipsis> Replace </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#delete> <span class=md-ellipsis> Delete </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#multiple-actions> <span class=md-ellipsis> Multiple actions </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tools-commands> <span class=md-ellipsis> Tools commands </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#validate> <span class=md-ellipsis> Validate </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#cli> <span class=md-ellipsis> CLI </span> </a> <nav aria-label=CLI class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#output-format> <span class=md-ellipsis> Output format </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#context-switching> <span class=md-ellipsis> Context switching </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#configuration> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#tools-commands_1> <span class=md-ellipsis> Tools commands </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#https> <span class=md-ellipsis> HTTPS </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#error-handling> <span class=md-ellipsis> Error handling </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href=https://github.com/srl-labs/learn-srlinux/edit/main/docs/tutorials/programmability/json-rpc/basics.md title="Edit this page"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"></path></svg> </a> <script async src=https://viewer.diagrams.net/js/viewer-static.min.js type=text/javascript></script> <h1 id=json-rpc-basics>JSON-RPC Basics<a class=headerlink href=#json-rpc-basics title="Permanent link">#</a></h1> <table> <thead> <tr> <th>Summary</th> <th></th> </tr> </thead> <tbody> <tr> <td><strong>Tutorial name</strong></td> <td>JSON-RPC Basics</td> </tr> <tr> <td><strong>Lab components</strong></td> <td>Single Nokia SR Linux node</td> </tr> <tr> <td><strong>Resource requirements</strong></td> <td><span class=twemoji><svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c-35.3 0-64 28.7-64 64H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40v56H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h40c0 35.3 28.7 64 64 64v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40h56v40c0 13.3 10.7 24 24 24s24-10.7 24-24v-40c35.3 0 64-28.7 64-64h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40v-56h40c13.3 0 24-10.7 24-24s-10.7-24-24-24h-40c0-35.3-28.7-64-64-64V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24c0-13.3-10.7-24-24-24s-24 10.7-24 24v40h-56V24zm-16 104h192c17.7 0 32 14.3 32 32v192c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32zm192 32H160v192h192V160z"></path></svg></span> 2 vCPU <br><span class=twemoji><svg viewbox="0 0 576 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M64 64C28.7 64 0 92.7 0 128v7.4c0 6.8 4.4 12.6 10.1 16.3C23.3 160.3 32 175.1 32 192s-8.7 31.7-21.9 40.3C4.4 236 0 241.8 0 248.6V320h576v-71.4c0-6.8-4.4-12.6-10.1-16.3-13.2-8.6-21.9-23.4-21.9-40.3s8.7-31.7 21.9-40.3c5.7-3.7 10.1-9.5 10.1-16.3V128c0-35.3-28.7-64-64-64H64zm512 288H0v64c0 17.7 14.3 32 32 32h48v-32c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96v-32c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96v-32c0-8.8 7.2-16 16-16s16 7.2 16 16v32h96v-32c0-8.8 7.2-16 16-16s16 7.2 16 16v32h48c17.7 0 32-14.3 32-32v-64zM192 160v64c0 17.7-14.3 32-32 32s-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32zm128 0v64c0 17.7-14.3 32-32 32s-32-14.3-32-32v-64c0-17.7 14.3-32 32-32s32 14.3 32 32z"></path></svg></span> 4 GB</td> </tr> <tr> <td><strong>Lab</strong></td> <td><a href=https://github.com/srl-labs/containerlab/blob/main/lab-examples/srl01/srl01.clab.yml>single-srlinux</a></td> </tr> <tr> <td><strong>Main ref documents</strong></td> <td><a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/Configuration_Basics_Guide/configb-mgmt_servers.html#ai9ep6mg7n>JSON-RPC Configuration</a>, <a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/SysMgmt_Guide/json-interface.html>JSON-RPC Management</a></td> </tr> <tr> <td><strong>Version information</strong><sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup></td> <td><a href=https://github.com/nokia/srlinux-container-image><code>srlinux:22.11.1</code></a>, <a href=https://containerlab.dev/install/ ><code>containerlab:0.33.0</code></a></td> </tr> <tr> <td><strong>Authors</strong></td> <td>Roman Dodin <a href=https://twitter.com/ntdvps><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23Z"></path></svg></span></a> <a href=https://linkedin.com/in/rdodin><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"></path></svg></span></a></td> </tr> <tr> <td><strong>Discussions</strong></td> <td><a href=https://twitter.com/ntdvps/status/1600261024719917057><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23Z"></path></svg></span> Twitter</a> · <a href=https://www.linkedin.com/feed/update/urn:li:activity:7006028123045548033/ ><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77Z"></path></svg></span> LinkedIn</a></td> </tr> </tbody> </table> <p>As of release 22.11.1, Nokia SR Linux Network OS employs three fully modeled management interfaces:</p> <ul> <li>gNMI</li> <li>JSON-RPC</li> <li>CLI</li> </ul> <p>Not only these interfaces are modeled, but they all use the same set of models and therefore enable one of the key differentiators of SR Linux - every management interface has access to the state and configuration datastores and provides the same visibility and configuration capabilities<sup id=fnref:2><a class=footnote-ref href=#fn:2>2</a></sup>.</p> <figure> <p><a href=https://gitlab.com/rdodin/pics/-/wikis/uploads/9cddf69339c1837019cbb56aee29b860/image.png><img alt=yang1 class=img-shadow src=https://gitlab.com/rdodin/pics/-/wikis/uploads/9cddf69339c1837019cbb56aee29b860/image.png></a> </p> <figcaption>Every management interface is a client of the same core API</figcaption> </figure> <p>Every management interface, in essence, uses the same API provided by the management server of SR Linux which makes interfaces equal in access rights and visibility.</p> <figure> <div class=mxgraph data-mxgraph='{"page":1,"zoom":1.5,"highlight":"#0000ff","nav":true,"check-visible-state":true,"resize":true,"url":"https://raw.githubusercontent.com/srl-labs/learn-srlinux/diagrams/ndk.drawio"}' style="max-width:100%;border:1px solid transparent;margin:0 auto; display:block;"></div> <figcaption>JSON-RPC as just another client of the same management API</figcaption> </figure> <p>In this tutorial, we are going to meet SR Linux's JSON-RPC interface and learn how to achieve basic management tasks using the <code>curl</code> utility. In the subsequent tutorials, our focus will shift from the JSON-RPC towards the different tooling that leverages it; think of Ansible, Postman tools and integrations with programming languages like Go and Python.</p> <h2 id=why-json-rpc>Why JSON-RPC?<a class=headerlink href=#why-json-rpc title="Permanent link">#</a></h2> <p>But first, why even bother using JSON-RPC if SR Linux sports a more performant-on-the-wire and modern gNMI interface? While it is true, that gNMI can be considered more performant on the wire by leveraging HTTP2 multiplexing and protobuf encoding, some well established automation stacks may not be able to offer gRPC/gNMI support just yet.<br> To make SR Linux accessible to non-hyperscalers and network teams who have been using HTTP/JSON-based management tools we offered a JSON-RPC management interface that can be easily integrated with a wide variety of higher-level Network Management Systems (NMS) and automation stacks.</p> <h2 id=json-rpc-methods>JSON-RPC methods<a class=headerlink href=#json-rpc-methods title="Permanent link">#</a></h2> <p>Being a custom management interface, JSON-RPC offers both standard methods like <code>get</code> and <code>set</code> to work with the state and configuration datastores of srlinux, as well as custom functions like <code>validate</code> for validating the config and <code>cli</code> to invoke CLI commands on the system.<br> All of that uses JSON-encoded messages exchanged over HTTP transport.</p> <p>As the RPC part of the name suggests, users are able to execute certain remote procedures on SR Linux via JSON-RPC interface. We refer to these procedures as methods; the following table summarizes the JSON-RPC provided methods as stated in the <a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/SysMgmt_Guide/json-interface.html>JSON-RPC Management Guide</a>.</p> <table> <thead> <tr> <th>Method</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Get</strong></td> <td>Used to retrieve configuration and state details from the system. The get method can be used with candidate, running, and state datastores, but cannot be used with the tools datastore.</td> </tr> <tr> <td><strong>Set</strong></td> <td>Used to set a configuration or run operational transaction. The set method can be used with the candidate and tools datastores.</td> </tr> <tr> <td><strong>Validate</strong></td> <td>Used to verify that the system accepts a configuration transaction before applying it to the system.</td> </tr> <tr> <td><strong>CLI</strong></td> <td>Used to run CLI commands. The get and set methods are restricted to accessing data structures via the YANG models, but the cli method can access any commands added to the system via python plugins or aliases.</td> </tr> </tbody> </table> <p>We will introduce all of these methods in detail during the practical section of this tutorial.</p> <h2 id=configuring-json-rpc>Configuring JSON-RPC<a class=headerlink href=#configuring-json-rpc title="Permanent link">#</a></h2> <p>SR Linux factory configuration doesn't have JSON-RPC management enabled, but it is easy to configure one. <a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/Configuration_Basics_Guide/configb-mgmt_servers.html#ai9ep6mg7n>JSON-RPC Configuration Guide</a> does a good job explaining all the bits and pieces of interface configuration, so to not repeat ourselves let's look at what containerlab configures automatically for every SR Linux node based on a <a href=https://github.com/srl-labs/containerlab/blob/main/lab-examples/srl01/srl01.clab.yml>single-node lab</a> that we use in this tutorial.</p> <div class="language-srl highlight"><pre><span></span><code><span id=__span-0-1><a href=#__codelineno-0-1 id=__codelineno-0-1 name=__codelineno-0-1></a><span class=c>--{ running }--[  ]--</span>
</span><span id=__span-0-2><a href=#__codelineno-0-2 id=__codelineno-0-2 name=__codelineno-0-2></a>A:srl# <span class=n>info /system json-rpc-server</span>
</span><span id=__span-0-3><a href=#__codelineno-0-3 id=__codelineno-0-3 name=__codelineno-0-3></a><span class=err>    system {</span>
</span><span id=__span-0-4><a href=#__codelineno-0-4 id=__codelineno-0-4 name=__codelineno-0-4></a><span class=err>        json-rpc-server {</span>
</span><span id=__span-0-5><a href=#__codelineno-0-5 id=__codelineno-0-5 name=__codelineno-0-5></a><span class=err>            admin-state </span><span class=l>enable</span>
</span><span id=__span-0-6><a href=#__codelineno-0-6 id=__codelineno-0-6 name=__codelineno-0-6></a><span class=err>            network-instance mgmt {</span>
</span><span id=__span-0-7><a href=#__codelineno-0-7 id=__codelineno-0-7 name=__codelineno-0-7></a><span class=err>                http {</span>
</span><span id=__span-0-8><a href=#__codelineno-0-8 id=__codelineno-0-8 name=__codelineno-0-8></a><span class=err>                    admin-state </span><span class=l>enable</span>
</span><span id=__span-0-9><a href=#__codelineno-0-9 id=__codelineno-0-9 name=__codelineno-0-9></a><span class=err>                }</span>
</span><span id=__span-0-10><a href=#__codelineno-0-10 id=__codelineno-0-10 name=__codelineno-0-10></a><span class=err>                https {</span>
</span><span id=__span-0-11><a href=#__codelineno-0-11 id=__codelineno-0-11 name=__codelineno-0-11></a><span class=err>                    admin-state </span><span class=l>enable</span>
</span><span id=__span-0-12><a href=#__codelineno-0-12 id=__codelineno-0-12 name=__codelineno-0-12></a><span class=err>                    tls-profile clab-profile</span>
</span><span id=__span-0-13><a href=#__codelineno-0-13 id=__codelineno-0-13 name=__codelineno-0-13></a><span class=err>                }</span>
</span><span id=__span-0-14><a href=#__codelineno-0-14 id=__codelineno-0-14 name=__codelineno-0-14></a><span class=err>            }</span>
</span><span id=__span-0-15><a href=#__codelineno-0-15 id=__codelineno-0-15 name=__codelineno-0-15></a><span class=err>        }</span>
</span><span id=__span-0-16><a href=#__codelineno-0-16 id=__codelineno-0-16 name=__codelineno-0-16></a><span class=err>    }</span>
</span></code></pre></div> <p>By default, containerlab enables JSON-RPC management interface in the management network instance<sup id=fnref:4><a class=footnote-ref href=#fn:4>4</a></sup> by configuring <code>json-rpc-server</code> instance running both in secure/https and plain-text/http modes on ports 80 and 443 accordingly. For https endpoint, containerlab uses the <code>tls-profile clab-profile</code> that it generates on lab startup.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>JSON-RPC management interface runs on the <code>/jsonrpc</code> HTTP(S) endpoint of the SR Linux, which means that to access this interface, users should use the following URI:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a href=#__codelineno-1-1 id=__codelineno-1-1 name=__codelineno-1-1></a>http<span class=o>(</span>s<span class=o>)</span>://&lt;srlinux-address&gt;/jsonrpc<span class=w> </span><span class=c1>#(1)!</span>
</span></code></pre></div> <ol> <li>where <code>srlinux-address</code> is the address of the management interface of SR Linux. The lab used in this tutorial has a deterministic name for the srlinux node - <code>clab-srl01-srl</code> - which we will use as the address.</li> </ol> </div> <p>With this configuration in place, users can leverage JSON-RPC immediately after containerlab finishes deploying the lab.</p> <h2 id=requestresponse-structure>Request/response structure<a class=headerlink href=#requestresponse-structure title="Permanent link">#</a></h2> <p>The management interface sends requests<sup id=fnref:3><a class=footnote-ref href=#fn:3>3</a></sup> to the JSON-RPC server and receives responses. The request/response format is a JSON encoded string and is detailed in the <a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/SysMgmt_Guide/json-interface.html#ai9ersv4qk>docs</a>. Let's look at the skeleton of the request/response messages as it will help us getting through practical exercises:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Request</label><label for=__tabbed_1_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-json highlight"><span class=filename>JSON-RPC request structure</span><pre><span></span><code><span id=__span-2-1><a href=#__codelineno-2-1 id=__codelineno-2-1 name=__codelineno-2-1></a><span class=p>{</span>
</span><span id=__span-2-2><a href=#__codelineno-2-2 id=__codelineno-2-2 name=__codelineno-2-2></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span><span class=p>,</span>
</span><span id=__span-2-3><a href=#__codelineno-2-3 id=__codelineno-2-3 name=__codelineno-2-3></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-2-4><a href=#__codelineno-2-4 id=__codelineno-2-4 name=__codelineno-2-4></a><span class=w>  </span><span class=nt>"method"</span><span class=p>:</span><span class=w> </span><span class=s2>"get"</span><span class=p>,</span>
</span><span id=__span-2-5><a href=#__codelineno-2-5 id=__codelineno-2-5 name=__codelineno-2-5></a><span class=w>  </span><span class=nt>"params"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-6><a href=#__codelineno-2-6 id=__codelineno-2-6 name=__codelineno-2-6></a><span class=w>    </span><span class=nt>"commands"</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-2-7><a href=#__codelineno-2-7 id=__codelineno-2-7 name=__codelineno-2-7></a><span class=w>    </span><span class=nt>"output-format"</span><span class=p>:</span><span class=w> </span><span class=s2>""</span><span class=w> </span><span class=c1>//(1)!</span>
</span><span id=__span-2-8><a href=#__codelineno-2-8 id=__codelineno-2-8 name=__codelineno-2-8></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-2-9><a href=#__codelineno-2-9 id=__codelineno-2-9 name=__codelineno-2-9></a><span class=p>}</span>
</span></code></pre></div> <ol> <li>Only applicable for CLI method.</li> </ol> <p>where:</p> <ul> <li><code>jsonrpc</code> - selects the version of the management interface and at the moment of this writing should be always set to <code>2.0</code>.</li> <li><code>id</code> - sets the ID of a request which is echoed back in the response to help correlate the message flows.</li> <li><code>method</code> - sets one of the supported RPC <a href=#json-rpc-methods>methods</a> used for this request.</li> <li><code>params</code> - container for RPC commands. We will cover the contents of this container through the practical exercises.</li> </ul> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-3-1><a href=#__codelineno-3-1 id=__codelineno-3-1 name=__codelineno-3-1></a><span class=p>{</span>
</span><span id=__span-3-2><a href=#__codelineno-3-2 id=__codelineno-3-2 name=__codelineno-3-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-3-3><a href=#__codelineno-3-3 id=__codelineno-3-3 name=__codelineno-3-3></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-3-4><a href=#__codelineno-3-4 id=__codelineno-3-4 name=__codelineno-3-4></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-3-5><a href=#__codelineno-3-5 id=__codelineno-3-5 name=__codelineno-3-5></a><span class=p>}</span>
</span></code></pre></div> <p>The response object structure provides a <code>result</code> list that contains the result of the invoked RPC. Additionally, the response object contains the RPC version and request ID.</p> </div> </div> </div> <h2 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">#</a></h2> <p>JSON-RPC server uses basic authentication for both HTTP and HTTPS transports, which means user information must be provided in a request.</p> <div class="language-bash highlight"><span class=filename>User credentials are passed in a request</span><pre><span></span><code><span id=__span-4-1><a href=#__codelineno-4-1 id=__codelineno-4-1 name=__codelineno-4-1></a>curl<span class=w> </span>-s<span class=w> </span>-X<span class=w> </span>POST<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span>
</span></code></pre></div> <p>In the example above, the user <code>admin</code> with a password <code>NokiaSrl1!</code> is used to authenticate with the JSON-RPC API.</p> <h2 id=methods>Methods<a class=headerlink href=#methods title="Permanent link">#</a></h2> <p>Enough with the boring theory, let's have some handson fun firing off requests, and learn how JSON-RPC works in real life. To keep things focused on the JSON-RPC itself, we will be using <code>curl</code> utility as our HTTP client with <code>jq</code> helping format the responses.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Keep the <a href=https://documentation.nokia.com/srlinux/22-6/SR_Linux_Book_Files/SysMgmt_Guide/json-interface.html>JSON-RPC Management Guide</a> tab open, as additional theory is provided there which we won't duplicate in this tutorial.</p> </div> <h3 id=get>Get<a class=headerlink href=#get title="Permanent link">#</a></h3> <p>Starting with the basics, let's see how we can query SR Linux configuration and state datastores using <code>get</code> method of JSON-RPC. How about we start with a simple management task of getting to know the software version we're running in our lab container?</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Request</label><label for=__tabbed_2_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><code>curl</code> by default uses HTTP POST method, thus we don't explicitly specify it. With <code>-d @- &lt;&lt;EOF</code> argument we pass the heredoc-styled body of the request in a JSON format of this POST request.</p> <p>Our <code>commands</code> list contains a single object with <code>path</code> and <code>datastore</code> values set.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a href=#__codelineno-5-1 id=__codelineno-5-1 name=__codelineno-5-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-5-2><a href=#__codelineno-5-2 id=__codelineno-5-2 name=__codelineno-5-2></a><span class=s>{</span>
</span><span id=__span-5-3><a href=#__codelineno-5-3 id=__codelineno-5-3 name=__codelineno-5-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-5-4><a href=#__codelineno-5-4 id=__codelineno-5-4 name=__codelineno-5-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-5-5><a href=#__codelineno-5-5 id=__codelineno-5-5 name=__codelineno-5-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-5-6><a href=#__codelineno-5-6 id=__codelineno-5-6 name=__codelineno-5-6></a><span class=s>    "params": {</span>
</span><span id=__span-5-7><a href=#__codelineno-5-7 id=__codelineno-5-7 name=__codelineno-5-7></a><span class=s>        "commands": [</span>
</span><span id=__span-5-8><a href=#__codelineno-5-8 id=__codelineno-5-8 name=__codelineno-5-8></a><span class=s>            {</span>
</span><span id=__span-5-9><a href=#__codelineno-5-9 id=__codelineno-5-9 name=__codelineno-5-9></a><span class=s>                "path": "/system/information/version",</span>
</span><span id=__span-5-10><a href=#__codelineno-5-10 id=__codelineno-5-10 name=__codelineno-5-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-5-11><a href=#__codelineno-5-11 id=__codelineno-5-11 name=__codelineno-5-11></a><span class=s>            }</span>
</span><span id=__span-5-12><a href=#__codelineno-5-12 id=__codelineno-5-12 name=__codelineno-5-12></a><span class=s>        ]</span>
</span><span id=__span-5-13><a href=#__codelineno-5-13 id=__codelineno-5-13 name=__codelineno-5-13></a><span class=s>    }</span>
</span><span id=__span-5-14><a href=#__codelineno-5-14 id=__codelineno-5-14 name=__codelineno-5-14></a><span class=s>}</span>
</span><span id=__span-5-15><a href=#__codelineno-5-15 id=__codelineno-5-15 name=__codelineno-5-15></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p><code>jq</code> used in the request command displays the json response in a formatted way.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-6-1><a href=#__codelineno-6-1 id=__codelineno-6-1 name=__codelineno-6-1></a><span class=p>{</span>
</span><span id=__span-6-2><a href=#__codelineno-6-2 id=__codelineno-6-2 name=__codelineno-6-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-6-3><a href=#__codelineno-6-3 id=__codelineno-6-3 name=__codelineno-6-3></a><span class=w>      </span><span class=s2>"v22.11.1-184-g6eeaa254f7"</span>
</span><span id=__span-6-4><a href=#__codelineno-6-4 id=__codelineno-6-4 name=__codelineno-6-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-6-5><a href=#__codelineno-6-5 id=__codelineno-6-5 name=__codelineno-6-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-6-6><a href=#__codelineno-6-6 id=__codelineno-6-6 name=__codelineno-6-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-6-7><a href=#__codelineno-6-7 id=__codelineno-6-7 name=__codelineno-6-7></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>There is something to unpack in the message used in this exchange. First, note that in the <code>params</code> container we specified the <code>commands</code> list. Each element in this list is an object that contains a <code>path</code> and <code>datastore</code> values. </p> <h4 id=path>Path<a class=headerlink href=#path title="Permanent link">#</a></h4> <p>The <code>path</code> is a string that follows gNMI Path Conventions<sup id=fnref:5><a class=footnote-ref href=#fn:5>5</a></sup> and used to point to an element that is . It is not hard to spot that the <code>path</code> follows the <a href=../../../../yang/ >SR Linux YANG model</a> and allows us to select a certain leaf that contains the version information.</p> <h4 id=datastore>Datastore<a class=headerlink href=#datastore title="Permanent link">#</a></h4> <p>The <code>datastore</code> value sets the SR Linux datastore we would like to use with our RPC. SR Linux offers four datastores that JSON-RPC users can choose from:</p> <table> <thead> <tr> <th>Datastore</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Candidate</strong></td> <td>Used to change the configuration of the system with the get, set, and validate methods; default datastore is used if the datastore parameter is not provided.</td> </tr> <tr> <td><strong>Running</strong></td> <td>Used to retrieve the active configuration with the get method.</td> </tr> <tr> <td><strong>State</strong></td> <td>Used to retrieve the running (active) configuration along with the operational state.</td> </tr> <tr> <td><strong>tools</strong></td> <td>Used to perform operational tasks on the system; only supported with the update action command and the set method.</td> </tr> </tbody> </table> <p>By specifying <code>path=/system/information/version</code> and <code>datastore=state</code> in our request, we instruct SR Linux to return the value of the targeted leaf using the <code>state</code> datastore. An equivalent CLI command on SR Linux to retrieve the same would be:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a href=#__codelineno-7-1 id=__codelineno-7-1 name=__codelineno-7-1></a>--{ running }--[  ]--
</span><span id=__span-7-2><a href=#__codelineno-7-2 id=__codelineno-7-2 name=__codelineno-7-2></a>A:srl# info from state system information version  
</span><span id=__span-7-3><a href=#__codelineno-7-3 id=__codelineno-7-3 name=__codelineno-7-3></a>    system {
</span><span id=__span-7-4><a href=#__codelineno-7-4 id=__codelineno-7-4 name=__codelineno-7-4></a>        information {
</span><span id=__span-7-5><a href=#__codelineno-7-5 id=__codelineno-7-5 name=__codelineno-7-5></a>            version v22.11.1-184-g6eeaa254f7
</span><span id=__span-7-6><a href=#__codelineno-7-6 id=__codelineno-7-6 name=__codelineno-7-6></a>        }
</span><span id=__span-7-7><a href=#__codelineno-7-7 id=__codelineno-7-7 name=__codelineno-7-7></a>    }
</span><span id=__span-7-8><a href=#__codelineno-7-8 id=__codelineno-7-8 name=__codelineno-7-8></a>--{ running }--[  ]--
</span></code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Datastore value can be set either per-command as in the example above, or on the <code>params</code> level. Command-scope datastore value takes precedence over the <code>params</code>-scope value.</p> </div> <p>When datastore value is omitted, <code>running</code> datastore is assumed. For example, repeating the same request without specifying the datastore will error, as <code>running</code> datastore doesn't hold state leaves and thus can't return the <code>version</code> leaf under the <code>/system/information</code> container.</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Request</label><label for=__tabbed_3_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a href=#__codelineno-8-1 id=__codelineno-8-1 name=__codelineno-8-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-8-2><a href=#__codelineno-8-2 id=__codelineno-8-2 name=__codelineno-8-2></a><span class=s>{</span>
</span><span id=__span-8-3><a href=#__codelineno-8-3 id=__codelineno-8-3 name=__codelineno-8-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-8-4><a href=#__codelineno-8-4 id=__codelineno-8-4 name=__codelineno-8-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-8-5><a href=#__codelineno-8-5 id=__codelineno-8-5 name=__codelineno-8-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-8-6><a href=#__codelineno-8-6 id=__codelineno-8-6 name=__codelineno-8-6></a><span class=s>    "params": {</span>
</span><span id=__span-8-7><a href=#__codelineno-8-7 id=__codelineno-8-7 name=__codelineno-8-7></a><span class=s>        "commands": [</span>
</span><span id=__span-8-8><a href=#__codelineno-8-8 id=__codelineno-8-8 name=__codelineno-8-8></a><span class=s>            {</span>
</span><span id=__span-8-9><a href=#__codelineno-8-9 id=__codelineno-8-9 name=__codelineno-8-9></a><span class=s>                "path": "/system/information/version"</span>
</span><span id=__span-8-10><a href=#__codelineno-8-10 id=__codelineno-8-10 name=__codelineno-8-10></a><span class=s>            }</span>
</span><span id=__span-8-11><a href=#__codelineno-8-11 id=__codelineno-8-11 name=__codelineno-8-11></a><span class=s>        ]</span>
</span><span id=__span-8-12><a href=#__codelineno-8-12 id=__codelineno-8-12 name=__codelineno-8-12></a><span class=s>    }</span>
</span><span id=__span-8-13><a href=#__codelineno-8-13 id=__codelineno-8-13 name=__codelineno-8-13></a><span class=s>}</span>
</span><span id=__span-8-14><a href=#__codelineno-8-14 id=__codelineno-8-14 name=__codelineno-8-14></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>An error is returned since running datastore holds configuration, not state, and <code>version</code> leaf is a state one.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-9-1><a href=#__codelineno-9-1 id=__codelineno-9-1 name=__codelineno-9-1></a><span class=p>{</span>
</span><span id=__span-9-2><a href=#__codelineno-9-2 id=__codelineno-9-2 name=__codelineno-9-2></a><span class=w>    </span><span class=nt>"error"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-3><a href=#__codelineno-9-3 id=__codelineno-9-3 name=__codelineno-9-3></a><span class=w>        </span><span class=nt>"code"</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=p>,</span>
</span><span id=__span-9-4><a href=#__codelineno-9-4 id=__codelineno-9-4 name=__codelineno-9-4></a><span class=w>        </span><span class=nt>"message"</span><span class=p>:</span><span class=w> </span><span class=s2>"Path not valid - unknown element 'version'. Options are [contact, location]"</span>
</span><span id=__span-9-5><a href=#__codelineno-9-5 id=__codelineno-9-5 name=__codelineno-9-5></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-9-6><a href=#__codelineno-9-6 id=__codelineno-9-6 name=__codelineno-9-6></a><span class=w>    </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-9-7><a href=#__codelineno-9-7 id=__codelineno-9-7 name=__codelineno-9-7></a><span class=w>    </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-9-8><a href=#__codelineno-9-8 id=__codelineno-9-8 name=__codelineno-9-8></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>The response object contains the same ID used in the request, as well as the list of results. The number of entries in the <code>results</code> list will match the number of <code>commands</code> specified in the request.</p> <details class=question> <summary>How to get entire configuration?</summary> <p>It is quite easy, actually. Just send the request with the <code>/</code> path:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a href=#__codelineno-10-1 id=__codelineno-10-1 name=__codelineno-10-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-10-2><a href=#__codelineno-10-2 id=__codelineno-10-2 name=__codelineno-10-2></a><span class=s>{</span>
</span><span id=__span-10-3><a href=#__codelineno-10-3 id=__codelineno-10-3 name=__codelineno-10-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-10-4><a href=#__codelineno-10-4 id=__codelineno-10-4 name=__codelineno-10-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-10-5><a href=#__codelineno-10-5 id=__codelineno-10-5 name=__codelineno-10-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-10-6><a href=#__codelineno-10-6 id=__codelineno-10-6 name=__codelineno-10-6></a><span class=s>    "params": {</span>
</span><span id=__span-10-7><a href=#__codelineno-10-7 id=__codelineno-10-7 name=__codelineno-10-7></a><span class=s>        "commands": [</span>
</span><span id=__span-10-8><a href=#__codelineno-10-8 id=__codelineno-10-8 name=__codelineno-10-8></a><span class=s>            {</span>
</span><span id=__span-10-9><a href=#__codelineno-10-9 id=__codelineno-10-9 name=__codelineno-10-9></a><span class=s>                "path": "/"</span>
</span><span id=__span-10-10><a href=#__codelineno-10-10 id=__codelineno-10-10 name=__codelineno-10-10></a><span class=s>            }</span>
</span><span id=__span-10-11><a href=#__codelineno-10-11 id=__codelineno-10-11 name=__codelineno-10-11></a><span class=s>        ]</span>
</span><span id=__span-10-12><a href=#__codelineno-10-12 id=__codelineno-10-12 name=__codelineno-10-12></a><span class=s>    }</span>
</span><span id=__span-10-13><a href=#__codelineno-10-13 id=__codelineno-10-13 name=__codelineno-10-13></a><span class=s>}</span>
</span><span id=__span-10-14><a href=#__codelineno-10-14 id=__codelineno-10-14 name=__codelineno-10-14></a><span class=s>EOF</span>
</span></code></pre></div> <p>To get rid of the response fields and only get the value of the result, change the jq expression to <code>jq '.result[]'</code>.</p> <p>In the same way, to get the full state of the switch, add <code>state</code> datastore:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-11-1><a href=#__codelineno-11-1 id=__codelineno-11-1 name=__codelineno-11-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq '.result[]' &gt; /tmp/test.json</span>
</span><span id=__span-11-2><a href=#__codelineno-11-2 id=__codelineno-11-2 name=__codelineno-11-2></a><span class=s>{</span>
</span><span id=__span-11-3><a href=#__codelineno-11-3 id=__codelineno-11-3 name=__codelineno-11-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-11-4><a href=#__codelineno-11-4 id=__codelineno-11-4 name=__codelineno-11-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-11-5><a href=#__codelineno-11-5 id=__codelineno-11-5 name=__codelineno-11-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-11-6><a href=#__codelineno-11-6 id=__codelineno-11-6 name=__codelineno-11-6></a><span class=s>    "params": {</span>
</span><span id=__span-11-7><a href=#__codelineno-11-7 id=__codelineno-11-7 name=__codelineno-11-7></a><span class=s>        "commands": [</span>
</span><span id=__span-11-8><a href=#__codelineno-11-8 id=__codelineno-11-8 name=__codelineno-11-8></a><span class=s>            {</span>
</span><span id=__span-11-9><a href=#__codelineno-11-9 id=__codelineno-11-9 name=__codelineno-11-9></a><span class=s>                "path": "/",</span>
</span><span id=__span-11-10><a href=#__codelineno-11-10 id=__codelineno-11-10 name=__codelineno-11-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-11-11><a href=#__codelineno-11-11 id=__codelineno-11-11 name=__codelineno-11-11></a><span class=s>            }</span>
</span><span id=__span-11-12><a href=#__codelineno-11-12 id=__codelineno-11-12 name=__codelineno-11-12></a><span class=s>        ]</span>
</span><span id=__span-11-13><a href=#__codelineno-11-13 id=__codelineno-11-13 name=__codelineno-11-13></a><span class=s>    }</span>
</span><span id=__span-11-14><a href=#__codelineno-11-14 id=__codelineno-11-14 name=__codelineno-11-14></a><span class=s>}</span>
</span><span id=__span-11-15><a href=#__codelineno-11-15 id=__codelineno-11-15 name=__codelineno-11-15></a><span class=s>EOF</span>
</span></code></pre></div> </details> <h4 id=multiple-commands>Multiple commands<a class=headerlink href=#multiple-commands title="Permanent link">#</a></h4> <p>JSON-RPC allows users to batch commands of the same method in the same request. Just add elements to the <code>commands</code> list of the body message. In the following example we query the state datastore for two elements inside the same request:</p> <ol> <li>system version</li> <li>statistics data of the mgmt0 interface</li> </ol> <div class="tabbed-set tabbed-alternate" data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Request</label><label for=__tabbed_4_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-12-1><a href=#__codelineno-12-1 id=__codelineno-12-1 name=__codelineno-12-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-12-2><a href=#__codelineno-12-2 id=__codelineno-12-2 name=__codelineno-12-2></a><span class=s>{</span>
</span><span id=__span-12-3><a href=#__codelineno-12-3 id=__codelineno-12-3 name=__codelineno-12-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-12-4><a href=#__codelineno-12-4 id=__codelineno-12-4 name=__codelineno-12-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-12-5><a href=#__codelineno-12-5 id=__codelineno-12-5 name=__codelineno-12-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-12-6><a href=#__codelineno-12-6 id=__codelineno-12-6 name=__codelineno-12-6></a><span class=s>    "params": {</span>
</span><span id=__span-12-7><a href=#__codelineno-12-7 id=__codelineno-12-7 name=__codelineno-12-7></a><span class=s>        "commands": [</span>
</span><span id=__span-12-8><a href=#__codelineno-12-8 id=__codelineno-12-8 name=__codelineno-12-8></a><span class=s>            {</span>
</span><span id=__span-12-9><a href=#__codelineno-12-9 id=__codelineno-12-9 name=__codelineno-12-9></a><span class=s>                "path": "/system/information/version",</span>
</span><span id=__span-12-10><a href=#__codelineno-12-10 id=__codelineno-12-10 name=__codelineno-12-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-12-11><a href=#__codelineno-12-11 id=__codelineno-12-11 name=__codelineno-12-11></a><span class=s>            },</span>
</span><span id=__span-12-12><a href=#__codelineno-12-12 id=__codelineno-12-12 name=__codelineno-12-12></a><span class=s>            {</span>
</span><span id=__span-12-13><a href=#__codelineno-12-13 id=__codelineno-12-13 name=__codelineno-12-13></a><span class=s>                "path": "/interface[name=mgmt0]/statistics",</span>
</span><span id=__span-12-14><a href=#__codelineno-12-14 id=__codelineno-12-14 name=__codelineno-12-14></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-12-15><a href=#__codelineno-12-15 id=__codelineno-12-15 name=__codelineno-12-15></a><span class=s>            }</span>
</span><span id=__span-12-16><a href=#__codelineno-12-16 id=__codelineno-12-16 name=__codelineno-12-16></a><span class=s>        ]</span>
</span><span id=__span-12-17><a href=#__codelineno-12-17 id=__codelineno-12-17 name=__codelineno-12-17></a><span class=s>    }</span>
</span><span id=__span-12-18><a href=#__codelineno-12-18 id=__codelineno-12-18 name=__codelineno-12-18></a><span class=s>}</span>
</span><span id=__span-12-19><a href=#__codelineno-12-19 id=__codelineno-12-19 name=__codelineno-12-19></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>Response message will contain a list of results with results being ordered the same way as the commands in the request.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-13-1><a href=#__codelineno-13-1 id=__codelineno-13-1 name=__codelineno-13-1></a><span class=p>{</span>
</span><span id=__span-13-2><a href=#__codelineno-13-2 id=__codelineno-13-2 name=__codelineno-13-2></a><span class=w>    </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-13-3><a href=#__codelineno-13-3 id=__codelineno-13-3 name=__codelineno-13-3></a><span class=w>        </span><span class=s2>"v22.11.1-184-g6eeaa254f7"</span><span class=p>,</span>
</span><span id=__span-13-4><a href=#__codelineno-13-4 id=__codelineno-13-4 name=__codelineno-13-4></a><span class=w>        </span><span class=p>{</span>
</span><span id=__span-13-5><a href=#__codelineno-13-5 id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w>            </span><span class=nt>"in-octets"</span><span class=p>:</span><span class=w> </span><span class=s2>"140285"</span><span class=p>,</span>
</span><span id=__span-13-6><a href=#__codelineno-13-6 id=__codelineno-13-6 name=__codelineno-13-6></a><span class=w>            </span><span class=nt>"in-unicast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"1389"</span><span class=p>,</span>
</span><span id=__span-13-7><a href=#__codelineno-13-7 id=__codelineno-13-7 name=__codelineno-13-7></a><span class=w>            </span><span class=nt>"in-broadcast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-8><a href=#__codelineno-13-8 id=__codelineno-13-8 name=__codelineno-13-8></a><span class=w>            </span><span class=nt>"in-multicast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"1"</span><span class=p>,</span>
</span><span id=__span-13-9><a href=#__codelineno-13-9 id=__codelineno-13-9 name=__codelineno-13-9></a><span class=w>            </span><span class=nt>"in-discarded-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-10><a href=#__codelineno-13-10 id=__codelineno-13-10 name=__codelineno-13-10></a><span class=w>            </span><span class=nt>"in-error-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"5"</span><span class=p>,</span>
</span><span id=__span-13-11><a href=#__codelineno-13-11 id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w>            </span><span class=nt>"in-fcs-error-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-12><a href=#__codelineno-13-12 id=__codelineno-13-12 name=__codelineno-13-12></a><span class=w>            </span><span class=nt>"out-octets"</span><span class=p>:</span><span class=w> </span><span class=s2>"748587"</span><span class=p>,</span>
</span><span id=__span-13-13><a href=#__codelineno-13-13 id=__codelineno-13-13 name=__codelineno-13-13></a><span class=w>            </span><span class=nt>"out-mirror-octets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-14><a href=#__codelineno-13-14 id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w>            </span><span class=nt>"out-unicast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"2349"</span><span class=p>,</span>
</span><span id=__span-13-15><a href=#__codelineno-13-15 id=__codelineno-13-15 name=__codelineno-13-15></a><span class=w>            </span><span class=nt>"out-broadcast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"6"</span><span class=p>,</span>
</span><span id=__span-13-16><a href=#__codelineno-13-16 id=__codelineno-13-16 name=__codelineno-13-16></a><span class=w>            </span><span class=nt>"out-multicast-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"30"</span><span class=p>,</span>
</span><span id=__span-13-17><a href=#__codelineno-13-17 id=__codelineno-13-17 name=__codelineno-13-17></a><span class=w>            </span><span class=nt>"out-discarded-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-18><a href=#__codelineno-13-18 id=__codelineno-13-18 name=__codelineno-13-18></a><span class=w>            </span><span class=nt>"out-error-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-19><a href=#__codelineno-13-19 id=__codelineno-13-19 name=__codelineno-13-19></a><span class=w>            </span><span class=nt>"out-mirror-packets"</span><span class=p>:</span><span class=w> </span><span class=s2>"0"</span><span class=p>,</span>
</span><span id=__span-13-20><a href=#__codelineno-13-20 id=__codelineno-13-20 name=__codelineno-13-20></a><span class=w>            </span><span class=nt>"carrier-transitions"</span><span class=p>:</span><span class=w> </span><span class=s2>"1"</span>
</span><span id=__span-13-21><a href=#__codelineno-13-21 id=__codelineno-13-21 name=__codelineno-13-21></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-13-22><a href=#__codelineno-13-22 id=__codelineno-13-22 name=__codelineno-13-22></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-13-23><a href=#__codelineno-13-23 id=__codelineno-13-23 name=__codelineno-13-23></a><span class=w>    </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-13-24><a href=#__codelineno-13-24 id=__codelineno-13-24 name=__codelineno-13-24></a><span class=w>    </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-13-25><a href=#__codelineno-13-25 id=__codelineno-13-25 name=__codelineno-13-25></a><span class=p>}</span>
</span></code></pre></div> <p>Note, that when the path in a request points to a leaf (like <code>/system/information/version</code>), then the result entry will be just the value of this leaf. In contrast with that, when the path is pointing to a container, then a JSON object is returned, like in the case of the result for the <code>/interface[name=mgmt0]/statistics</code> path.</p> </div> </div> </div> <h3 id=set>Set<a class=headerlink href=#set title="Permanent link">#</a></h3> <p>JSON-RPC is quite flexible when it comes to creating, updating and deleting configuration on SR Linux<sup id=fnref:7><a class=footnote-ref href=#fn:7>7</a></sup>. And additionally, Set method allows users to execute operational (aka <code>/tools</code>) commands.</p> <p>When changing configuration with the Set method, the JSON-RPC server creates a private candidate datastore, applies the changes and performs an implicit commit. Thus, changes are commited automatically (if they are valid) for each RPC.</p> <h4 id=update>Update<a class=headerlink href=#update title="Permanent link">#</a></h4> <p>Switching to the 1<sup>st</sup> gear, let's just add a description to our <code>mgmt0</code> interface.</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:3><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><input id=__tabbed_5_3 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Request</label><label for=__tabbed_5_2>Response</label><label for=__tabbed_5_3>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a href=#__codelineno-14-1 id=__codelineno-14-1 name=__codelineno-14-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-14-2><a href=#__codelineno-14-2 id=__codelineno-14-2 name=__codelineno-14-2></a><span class=s>{</span>
</span><span id=__span-14-3><a href=#__codelineno-14-3 id=__codelineno-14-3 name=__codelineno-14-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-14-4><a href=#__codelineno-14-4 id=__codelineno-14-4 name=__codelineno-14-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-14-5><a href=#__codelineno-14-5 id=__codelineno-14-5 name=__codelineno-14-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-14-6><a href=#__codelineno-14-6 id=__codelineno-14-6 name=__codelineno-14-6></a><span class=s>    "params": {</span>
</span><span id=__span-14-7><a href=#__codelineno-14-7 id=__codelineno-14-7 name=__codelineno-14-7></a><span class=s>        "commands": [</span>
</span><span id=__span-14-8><a href=#__codelineno-14-8 id=__codelineno-14-8 name=__codelineno-14-8></a><span class=s>            {</span>
</span><span id=__span-14-9><a href=#__codelineno-14-9 id=__codelineno-14-9 name=__codelineno-14-9></a><span class=s>                "action": "update",</span>
</span><span id=__span-14-10><a href=#__codelineno-14-10 id=__codelineno-14-10 name=__codelineno-14-10></a><span class=s>                "path": "/interface[name=mgmt0]/description:set-via-json-rpc"</span>
</span><span id=__span-14-11><a href=#__codelineno-14-11 id=__codelineno-14-11 name=__codelineno-14-11></a><span class=s>            }</span>
</span><span id=__span-14-12><a href=#__codelineno-14-12 id=__codelineno-14-12 name=__codelineno-14-12></a><span class=s>        ]</span>
</span><span id=__span-14-13><a href=#__codelineno-14-13 id=__codelineno-14-13 name=__codelineno-14-13></a><span class=s>    }</span>
</span><span id=__span-14-14><a href=#__codelineno-14-14 id=__codelineno-14-14 name=__codelineno-14-14></a><span class=s>}</span>
</span><span id=__span-14-15><a href=#__codelineno-14-15 id=__codelineno-14-15 name=__codelineno-14-15></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-15-1><a href=#__codelineno-15-1 id=__codelineno-15-1 name=__codelineno-15-1></a><span class=p>{</span>
</span><span id=__span-15-2><a href=#__codelineno-15-2 id=__codelineno-15-2 name=__codelineno-15-2></a><span class=w>    </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-15-3><a href=#__codelineno-15-3 id=__codelineno-15-3 name=__codelineno-15-3></a><span class=w>        </span><span class=p>{}</span>
</span><span id=__span-15-4><a href=#__codelineno-15-4 id=__codelineno-15-4 name=__codelineno-15-4></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-15-5><a href=#__codelineno-15-5 id=__codelineno-15-5 name=__codelineno-15-5></a><span class=w>    </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-15-6><a href=#__codelineno-15-6 id=__codelineno-15-6 name=__codelineno-15-6></a><span class=w>    </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-15-7><a href=#__codelineno-15-7 id=__codelineno-15-7 name=__codelineno-15-7></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>Checking that the interface description has been set successfully.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1><a href=#__codelineno-16-1 id=__codelineno-16-1 name=__codelineno-16-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-16-2><a href=#__codelineno-16-2 id=__codelineno-16-2 name=__codelineno-16-2></a><span class=s>{</span>
</span><span id=__span-16-3><a href=#__codelineno-16-3 id=__codelineno-16-3 name=__codelineno-16-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-16-4><a href=#__codelineno-16-4 id=__codelineno-16-4 name=__codelineno-16-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-16-5><a href=#__codelineno-16-5 id=__codelineno-16-5 name=__codelineno-16-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-16-6><a href=#__codelineno-16-6 id=__codelineno-16-6 name=__codelineno-16-6></a><span class=s>    "params": {</span>
</span><span id=__span-16-7><a href=#__codelineno-16-7 id=__codelineno-16-7 name=__codelineno-16-7></a><span class=s>        "commands": [</span>
</span><span id=__span-16-8><a href=#__codelineno-16-8 id=__codelineno-16-8 name=__codelineno-16-8></a><span class=s>            {</span>
</span><span id=__span-16-9><a href=#__codelineno-16-9 id=__codelineno-16-9 name=__codelineno-16-9></a><span class=s>                "path": "/interface[name=mgmt0]/description",</span>
</span><span id=__span-16-10><a href=#__codelineno-16-10 id=__codelineno-16-10 name=__codelineno-16-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-16-11><a href=#__codelineno-16-11 id=__codelineno-16-11 name=__codelineno-16-11></a><span class=s>            }</span>
</span><span id=__span-16-12><a href=#__codelineno-16-12 id=__codelineno-16-12 name=__codelineno-16-12></a><span class=s>        ]</span>
</span><span id=__span-16-13><a href=#__codelineno-16-13 id=__codelineno-16-13 name=__codelineno-16-13></a><span class=s>    }</span>
</span><span id=__span-16-14><a href=#__codelineno-16-14 id=__codelineno-16-14 name=__codelineno-16-14></a><span class=s>}</span>
</span><span id=__span-16-15><a href=#__codelineno-16-15 id=__codelineno-16-15 name=__codelineno-16-15></a><span class=s>EOF</span>
</span></code></pre></div> <p>Response: <div class="language-json highlight"><pre><span></span><code><span id=__span-17-1><a href=#__codelineno-17-1 id=__codelineno-17-1 name=__codelineno-17-1></a><span class=p>{</span>
</span><span id=__span-17-2><a href=#__codelineno-17-2 id=__codelineno-17-2 name=__codelineno-17-2></a><span class=w>    </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-17-3><a href=#__codelineno-17-3 id=__codelineno-17-3 name=__codelineno-17-3></a><span class=w>        </span><span class=s2>"set-via-json-rpc"</span>
</span><span id=__span-17-4><a href=#__codelineno-17-4 id=__codelineno-17-4 name=__codelineno-17-4></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-17-5><a href=#__codelineno-17-5 id=__codelineno-17-5 name=__codelineno-17-5></a><span class=w>    </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-17-6><a href=#__codelineno-17-6 id=__codelineno-17-6 name=__codelineno-17-6></a><span class=w>    </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-17-7><a href=#__codelineno-17-7 id=__codelineno-17-7 name=__codelineno-17-7></a><span class=p>}</span>
</span></code></pre></div></p> </div> </div> </div> <h5 id=action>Action<a class=headerlink href=#action title="Permanent link">#</a></h5> <p>As you can see, the request message now contains the <code>set</code> method, and in the list of commands we have a new field - <code>action</code>. Action field is only set with <code>set</code> and <code>validate</code> methods and can take the following values:</p> <ul> <li><strong>update</strong> - updates a leaf or container with the new value.</li> <li><strong>delete</strong> - deletes a leaf or container.</li> <li><strong>replace</strong> - replaces configuration with the supplied new configuration blob for a specified path. This is equivalent to a delete+update operation tandem.</li> </ul> <p>Since we wanted to set a description on the interface, the <code>update</code> action was just enough.</p> <p>The response object for a successful Set method contains a single empty JSON object regardless of how many commands were in the request.</p> <h5 id=path-value-formats>Path value formats<a class=headerlink href=#path-value-formats title="Permanent link">#</a></h5> <p>I bet you noticed the peculiar path value used in the Set request message - <code>"path": "/interface[name=mgmt0]/description:set-via-json-rpc"</code>. This path notation follows the <code>&lt;path&gt;:&lt;value&gt;</code> schema, where a scalar value of a leaf is provided in the path itself separated by a <code>:</code> char.</p> <p>Alternatively, users can specify the value using the <code>"value"</code> field inside the command. This allows to provide structutred values for a certain path. For example, lets set multiple fields under the <code>/system/information</code> container:</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:3><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><input id=__tabbed_6_3 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Request</label><label for=__tabbed_6_2>Response</label><label for=__tabbed_6_3>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Set two leaves - <code>location</code> and <code>contact</code> under the <code>/system/information</code> container by using the <code>value</code> field of the command.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-18-1><a href=#__codelineno-18-1 id=__codelineno-18-1 name=__codelineno-18-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-18-2><a href=#__codelineno-18-2 id=__codelineno-18-2 name=__codelineno-18-2></a><span class=s>{</span>
</span><span id=__span-18-3><a href=#__codelineno-18-3 id=__codelineno-18-3 name=__codelineno-18-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-18-4><a href=#__codelineno-18-4 id=__codelineno-18-4 name=__codelineno-18-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-18-5><a href=#__codelineno-18-5 id=__codelineno-18-5 name=__codelineno-18-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-18-6><a href=#__codelineno-18-6 id=__codelineno-18-6 name=__codelineno-18-6></a><span class=s>    "params": {</span>
</span><span id=__span-18-7><a href=#__codelineno-18-7 id=__codelineno-18-7 name=__codelineno-18-7></a><span class=s>        "commands": [</span>
</span><span id=__span-18-8><a href=#__codelineno-18-8 id=__codelineno-18-8 name=__codelineno-18-8></a><span class=s>            {</span>
</span><span id=__span-18-9><a href=#__codelineno-18-9 id=__codelineno-18-9 name=__codelineno-18-9></a><span class=s>                "action": "update",</span>
</span><span id=__span-18-10><a href=#__codelineno-18-10 id=__codelineno-18-10 name=__codelineno-18-10></a><span class=s>                "path": "/system/information",</span>
</span><span id=__span-18-11><a href=#__codelineno-18-11 id=__codelineno-18-11 name=__codelineno-18-11></a><span class=s>                "value": {</span>
</span><span id=__span-18-12><a href=#__codelineno-18-12 id=__codelineno-18-12 name=__codelineno-18-12></a><span class=s>                  "location": "the Netherlands",</span>
</span><span id=__span-18-13><a href=#__codelineno-18-13 id=__codelineno-18-13 name=__codelineno-18-13></a><span class=s>                  "contact": "Roman Dodin"</span>
</span><span id=__span-18-14><a href=#__codelineno-18-14 id=__codelineno-18-14 name=__codelineno-18-14></a><span class=s>                }</span>
</span><span id=__span-18-15><a href=#__codelineno-18-15 id=__codelineno-18-15 name=__codelineno-18-15></a><span class=s>            }</span>
</span><span id=__span-18-16><a href=#__codelineno-18-16 id=__codelineno-18-16 name=__codelineno-18-16></a><span class=s>        ]</span>
</span><span id=__span-18-17><a href=#__codelineno-18-17 id=__codelineno-18-17 name=__codelineno-18-17></a><span class=s>    }</span>
</span><span id=__span-18-18><a href=#__codelineno-18-18 id=__codelineno-18-18 name=__codelineno-18-18></a><span class=s>}</span>
</span><span id=__span-18-19><a href=#__codelineno-18-19 id=__codelineno-18-19 name=__codelineno-18-19></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-19-1><a href=#__codelineno-19-1 id=__codelineno-19-1 name=__codelineno-19-1></a><span class=p>{</span>
</span><span id=__span-19-2><a href=#__codelineno-19-2 id=__codelineno-19-2 name=__codelineno-19-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-19-3><a href=#__codelineno-19-3 id=__codelineno-19-3 name=__codelineno-19-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-19-4><a href=#__codelineno-19-4 id=__codelineno-19-4 name=__codelineno-19-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-19-5><a href=#__codelineno-19-5 id=__codelineno-19-5 name=__codelineno-19-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-19-6><a href=#__codelineno-19-6 id=__codelineno-19-6 name=__codelineno-19-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-19-7><a href=#__codelineno-19-7 id=__codelineno-19-7 name=__codelineno-19-7></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-20-1><a href=#__codelineno-20-1 id=__codelineno-20-1 name=__codelineno-20-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-20-2><a href=#__codelineno-20-2 id=__codelineno-20-2 name=__codelineno-20-2></a><span class=s>{</span>
</span><span id=__span-20-3><a href=#__codelineno-20-3 id=__codelineno-20-3 name=__codelineno-20-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-20-4><a href=#__codelineno-20-4 id=__codelineno-20-4 name=__codelineno-20-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-20-5><a href=#__codelineno-20-5 id=__codelineno-20-5 name=__codelineno-20-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-20-6><a href=#__codelineno-20-6 id=__codelineno-20-6 name=__codelineno-20-6></a><span class=s>    "params": {</span>
</span><span id=__span-20-7><a href=#__codelineno-20-7 id=__codelineno-20-7 name=__codelineno-20-7></a><span class=s>        "datastore": "state",</span>
</span><span id=__span-20-8><a href=#__codelineno-20-8 id=__codelineno-20-8 name=__codelineno-20-8></a><span class=s>        "commands": [</span>
</span><span id=__span-20-9><a href=#__codelineno-20-9 id=__codelineno-20-9 name=__codelineno-20-9></a><span class=s>            {</span>
</span><span id=__span-20-10><a href=#__codelineno-20-10 id=__codelineno-20-10 name=__codelineno-20-10></a><span class=s>                "path": "/system/information/location"</span>
</span><span id=__span-20-11><a href=#__codelineno-20-11 id=__codelineno-20-11 name=__codelineno-20-11></a><span class=s>            },</span>
</span><span id=__span-20-12><a href=#__codelineno-20-12 id=__codelineno-20-12 name=__codelineno-20-12></a><span class=s>            {</span>
</span><span id=__span-20-13><a href=#__codelineno-20-13 id=__codelineno-20-13 name=__codelineno-20-13></a><span class=s>                "path": "/system/information/contact"</span>
</span><span id=__span-20-14><a href=#__codelineno-20-14 id=__codelineno-20-14 name=__codelineno-20-14></a><span class=s>            }</span>
</span><span id=__span-20-15><a href=#__codelineno-20-15 id=__codelineno-20-15 name=__codelineno-20-15></a><span class=s>        ]</span>
</span><span id=__span-20-16><a href=#__codelineno-20-16 id=__codelineno-20-16 name=__codelineno-20-16></a><span class=s>    }</span>
</span><span id=__span-20-17><a href=#__codelineno-20-17 id=__codelineno-20-17 name=__codelineno-20-17></a><span class=s>}</span>
</span><span id=__span-20-18><a href=#__codelineno-20-18 id=__codelineno-20-18 name=__codelineno-20-18></a><span class=s>EOF</span>
</span></code></pre></div> <p>Result:</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-21-1><a href=#__codelineno-21-1 id=__codelineno-21-1 name=__codelineno-21-1></a><span class=p>{</span>
</span><span id=__span-21-2><a href=#__codelineno-21-2 id=__codelineno-21-2 name=__codelineno-21-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-21-3><a href=#__codelineno-21-3 id=__codelineno-21-3 name=__codelineno-21-3></a><span class=w>    </span><span class=s2>"the Netherlands"</span><span class=p>,</span>
</span><span id=__span-21-4><a href=#__codelineno-21-4 id=__codelineno-21-4 name=__codelineno-21-4></a><span class=w>    </span><span class=s2>"Roman Dodin"</span>
</span><span id=__span-21-5><a href=#__codelineno-21-5 id=__codelineno-21-5 name=__codelineno-21-5></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-21-6><a href=#__codelineno-21-6 id=__codelineno-21-6 name=__codelineno-21-6></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-21-7><a href=#__codelineno-21-7 id=__codelineno-21-7 name=__codelineno-21-7></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-21-8><a href=#__codelineno-21-8 id=__codelineno-21-8 name=__codelineno-21-8></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <h4 id=replace>Replace<a class=headerlink href=#replace title="Permanent link">#</a></h4> <p>With the <code>replace</code> action it is possible to replace the entire configuration block for a given path with another configuration blob supplied in the request message. In essense, a replace operation is a combination of <code>delete + update</code> actions for a given path.</p> <p>To demonstrate replace operation in action, we will use the same <code>/system/information</code> container, that by now contains the <code>contact</code> and location leaves:</p> <div class="language-bash highlight"><span class=filename>Verify current configuration of /system/information container</span><pre><span></span><code><span id=__span-22-1><a href=#__codelineno-22-1 id=__codelineno-22-1 name=__codelineno-22-1></a>❯<span class=w> </span>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>clab-srl01-srl<span class=w> </span>sr_cli<span class=w> </span>info<span class=w> </span>from<span class=w> </span>running<span class=w> </span>/system<span class=w> </span>information
</span><span id=__span-22-2><a href=#__codelineno-22-2 id=__codelineno-22-2 name=__codelineno-22-2></a><span class=w>    </span>system<span class=w> </span><span class=o>{</span>
</span><span id=__span-22-3><a href=#__codelineno-22-3 id=__codelineno-22-3 name=__codelineno-22-3></a><span class=w>        </span>information<span class=w> </span><span class=o>{</span>
</span><span id=__span-22-4><a href=#__codelineno-22-4 id=__codelineno-22-4 name=__codelineno-22-4></a><span class=w>            </span>contact<span class=w> </span><span class=s2>"Roman Dodin"</span>
</span><span id=__span-22-5><a href=#__codelineno-22-5 id=__codelineno-22-5 name=__codelineno-22-5></a><span class=w>            </span>location<span class=w> </span><span class=s2>"the Netherlands"</span>
</span><span id=__span-22-6><a href=#__codelineno-22-6 id=__codelineno-22-6 name=__codelineno-22-6></a><span class=w>        </span><span class=o>}</span>
</span><span id=__span-22-7><a href=#__codelineno-22-7 id=__codelineno-22-7 name=__codelineno-22-7></a><span class=w>    </span><span class=o>}</span>
</span></code></pre></div> <p>Let's replace this conatiner with setting just the contact leaf to "John Doe" value.</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:3><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><input id=__tabbed_7_3 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Request</label><label for=__tabbed_7_2>Response</label><label for=__tabbed_7_3>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-23-1><a href=#__codelineno-23-1 id=__codelineno-23-1 name=__codelineno-23-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-23-2><a href=#__codelineno-23-2 id=__codelineno-23-2 name=__codelineno-23-2></a><span class=s>{</span>
</span><span id=__span-23-3><a href=#__codelineno-23-3 id=__codelineno-23-3 name=__codelineno-23-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-23-4><a href=#__codelineno-23-4 id=__codelineno-23-4 name=__codelineno-23-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-23-5><a href=#__codelineno-23-5 id=__codelineno-23-5 name=__codelineno-23-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-23-6><a href=#__codelineno-23-6 id=__codelineno-23-6 name=__codelineno-23-6></a><span class=s>    "params": {</span>
</span><span id=__span-23-7><a href=#__codelineno-23-7 id=__codelineno-23-7 name=__codelineno-23-7></a><span class=s>        "commands": [</span>
</span><span id=__span-23-8><a href=#__codelineno-23-8 id=__codelineno-23-8 name=__codelineno-23-8></a><span class=s>            {</span>
</span><span id=__span-23-9><a href=#__codelineno-23-9 id=__codelineno-23-9 name=__codelineno-23-9></a><span class=s>                "action": "replace",</span>
</span><span id=__span-23-10><a href=#__codelineno-23-10 id=__codelineno-23-10 name=__codelineno-23-10></a><span class=s>                "path": "/system/information",</span>
</span><span id=__span-23-11><a href=#__codelineno-23-11 id=__codelineno-23-11 name=__codelineno-23-11></a><span class=s>                "value": {</span>
</span><span id=__span-23-12><a href=#__codelineno-23-12 id=__codelineno-23-12 name=__codelineno-23-12></a><span class=s>                  "contact": "John Doe"</span>
</span><span id=__span-23-13><a href=#__codelineno-23-13 id=__codelineno-23-13 name=__codelineno-23-13></a><span class=s>                }</span>
</span><span id=__span-23-14><a href=#__codelineno-23-14 id=__codelineno-23-14 name=__codelineno-23-14></a><span class=s>            }</span>
</span><span id=__span-23-15><a href=#__codelineno-23-15 id=__codelineno-23-15 name=__codelineno-23-15></a><span class=s>        ]</span>
</span><span id=__span-23-16><a href=#__codelineno-23-16 id=__codelineno-23-16 name=__codelineno-23-16></a><span class=s>    }</span>
</span><span id=__span-23-17><a href=#__codelineno-23-17 id=__codelineno-23-17 name=__codelineno-23-17></a><span class=s>}</span>
</span><span id=__span-23-18><a href=#__codelineno-23-18 id=__codelineno-23-18 name=__codelineno-23-18></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-24-1><a href=#__codelineno-24-1 id=__codelineno-24-1 name=__codelineno-24-1></a><span class=p>{</span>
</span><span id=__span-24-2><a href=#__codelineno-24-2 id=__codelineno-24-2 name=__codelineno-24-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-24-3><a href=#__codelineno-24-3 id=__codelineno-24-3 name=__codelineno-24-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-24-4><a href=#__codelineno-24-4 id=__codelineno-24-4 name=__codelineno-24-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-24-5><a href=#__codelineno-24-5 id=__codelineno-24-5 name=__codelineno-24-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-24-6><a href=#__codelineno-24-6 id=__codelineno-24-6 name=__codelineno-24-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-24-7><a href=#__codelineno-24-7 id=__codelineno-24-7 name=__codelineno-24-7></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-25-1><a href=#__codelineno-25-1 id=__codelineno-25-1 name=__codelineno-25-1></a>❯<span class=w> </span>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>clab-srl01-srl<span class=w> </span>sr_cli<span class=w> </span>info<span class=w> </span>from<span class=w> </span>running<span class=w> </span>/system<span class=w> </span>information
</span><span id=__span-25-2><a href=#__codelineno-25-2 id=__codelineno-25-2 name=__codelineno-25-2></a>system<span class=w> </span><span class=o>{</span>
</span><span id=__span-25-3><a href=#__codelineno-25-3 id=__codelineno-25-3 name=__codelineno-25-3></a><span class=w>    </span>information<span class=w> </span><span class=o>{</span>
</span><span id=__span-25-4><a href=#__codelineno-25-4 id=__codelineno-25-4 name=__codelineno-25-4></a><span class=w>        </span>contact<span class=w> </span><span class=s2>"John Doe"</span>
</span><span id=__span-25-5><a href=#__codelineno-25-5 id=__codelineno-25-5 name=__codelineno-25-5></a><span class=w>    </span><span class=o>}</span>
</span><span id=__span-25-6><a href=#__codelineno-25-6 id=__codelineno-25-6 name=__codelineno-25-6></a><span class=o>}</span>
</span></code></pre></div> </div> </div> </div> <p>Notice, how the verification command proves that the whole configuration under <code>/system/information</code> has been replaced with a single <code>contact</code> leaf value, there is no trace of <code>location</code> leaf.</p> <details class=tip> <summary>Replacing the whole configuration</summary> <p>One of the common management tasks is to replace the entire config with a golden or intended configuration. To do that with JSON-RPC use <code>/</code> path and a file with JSON-formatted config:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-26-1><a href=#__codelineno-26-1 id=__codelineno-26-1 name=__codelineno-26-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span>&lt;&lt;EOF
</span><span id=__span-26-2><a href=#__codelineno-26-2 id=__codelineno-26-2 name=__codelineno-26-2></a><span class=o>{</span>
</span><span id=__span-26-3><a href=#__codelineno-26-3 id=__codelineno-26-3 name=__codelineno-26-3></a><span class=w>    </span><span class=s2>"jsonrpc"</span>:<span class=w> </span><span class=s2>"2.0"</span>,
</span><span id=__span-26-4><a href=#__codelineno-26-4 id=__codelineno-26-4 name=__codelineno-26-4></a><span class=w>    </span><span class=s2>"id"</span>:<span class=w> </span><span class=m>0</span>,
</span><span id=__span-26-5><a href=#__codelineno-26-5 id=__codelineno-26-5 name=__codelineno-26-5></a><span class=w>    </span><span class=s2>"method"</span>:<span class=w> </span><span class=s2>"set"</span>,
</span><span id=__span-26-6><a href=#__codelineno-26-6 id=__codelineno-26-6 name=__codelineno-26-6></a><span class=w>    </span><span class=s2>"params"</span>:<span class=w> </span><span class=o>{</span>
</span><span id=__span-26-7><a href=#__codelineno-26-7 id=__codelineno-26-7 name=__codelineno-26-7></a><span class=w>        </span><span class=s2>"commands"</span>:<span class=w> </span><span class=o>[</span>
</span><span id=__span-26-8><a href=#__codelineno-26-8 id=__codelineno-26-8 name=__codelineno-26-8></a><span class=w>            </span><span class=o>{</span>
</span><span id=__span-26-9><a href=#__codelineno-26-9 id=__codelineno-26-9 name=__codelineno-26-9></a><span class=w>                </span><span class=s2>"action"</span>:<span class=w> </span><span class=s2>"replace"</span>,
</span><span id=__span-26-10><a href=#__codelineno-26-10 id=__codelineno-26-10 name=__codelineno-26-10></a><span class=w>                </span><span class=s2>"path"</span>:<span class=w> </span><span class=s2>"/"</span>,
</span><span id=__span-26-11><a href=#__codelineno-26-11 id=__codelineno-26-11 name=__codelineno-26-11></a><span class=w>                </span><span class=s2>"value"</span>:<span class=w> </span><span class=k>$(</span>cat<span class=w> </span>/path/to/config.json<span class=k>)</span>
</span><span id=__span-26-12><a href=#__codelineno-26-12 id=__codelineno-26-12 name=__codelineno-26-12></a><span class=w>            </span><span class=o>}</span>
</span><span id=__span-26-13><a href=#__codelineno-26-13 id=__codelineno-26-13 name=__codelineno-26-13></a><span class=w>        </span><span class=o>]</span>
</span><span id=__span-26-14><a href=#__codelineno-26-14 id=__codelineno-26-14 name=__codelineno-26-14></a><span class=w>    </span><span class=o>}</span>
</span><span id=__span-26-15><a href=#__codelineno-26-15 id=__codelineno-26-15 name=__codelineno-26-15></a><span class=o>}</span>
</span></code></pre></div> </details> <h4 id=delete>Delete<a class=headerlink href=#delete title="Permanent link">#</a></h4> <p>To delete a configuration region for a certain path use <code>delete</code> action of the Set method. For example, let's delete everythin under the <code>/system/information</code> container:</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:4><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><input id=__tabbed_8_2 name=__tabbed_8 type=radio><input id=__tabbed_8_3 name=__tabbed_8 type=radio><input id=__tabbed_8_4 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>Initial state</label><label for=__tabbed_8_2>Request</label><label for=__tabbed_8_3>Response</label><label for=__tabbed_8_4>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>We start with <code>information</code> container containing <code>contact</code> leaf.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-27-1><a href=#__codelineno-27-1 id=__codelineno-27-1 name=__codelineno-27-1></a>❯<span class=w> </span>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>clab-srl01-srl<span class=w> </span>sr_cli<span class=w> </span>info<span class=w> </span>from<span class=w> </span>running<span class=w> </span>/system<span class=w> </span>information<span class=w> </span>
</span><span id=__span-27-2><a href=#__codelineno-27-2 id=__codelineno-27-2 name=__codelineno-27-2></a><span class=w>    </span>system<span class=w> </span><span class=o>{</span>
</span><span id=__span-27-3><a href=#__codelineno-27-3 id=__codelineno-27-3 name=__codelineno-27-3></a><span class=w>        </span>information<span class=w> </span><span class=o>{</span>
</span><span id=__span-27-4><a href=#__codelineno-27-4 id=__codelineno-27-4 name=__codelineno-27-4></a><span class=w>            </span>contact<span class=w> </span><span class=s2>"John Doe"</span>
</span><span id=__span-27-5><a href=#__codelineno-27-5 id=__codelineno-27-5 name=__codelineno-27-5></a><span class=w>        </span><span class=o>}</span>
</span><span id=__span-27-6><a href=#__codelineno-27-6 id=__codelineno-27-6 name=__codelineno-27-6></a><span class=w>    </span><span class=o>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>Delete the configuration under the <code>/system/information</code> container. <div class="language-bash highlight"><pre><span></span><code><span id=__span-28-1><a href=#__codelineno-28-1 id=__codelineno-28-1 name=__codelineno-28-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-28-2><a href=#__codelineno-28-2 id=__codelineno-28-2 name=__codelineno-28-2></a><span class=s>{</span>
</span><span id=__span-28-3><a href=#__codelineno-28-3 id=__codelineno-28-3 name=__codelineno-28-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-28-4><a href=#__codelineno-28-4 id=__codelineno-28-4 name=__codelineno-28-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-28-5><a href=#__codelineno-28-5 id=__codelineno-28-5 name=__codelineno-28-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-28-6><a href=#__codelineno-28-6 id=__codelineno-28-6 name=__codelineno-28-6></a><span class=s>    "params": {</span>
</span><span id=__span-28-7><a href=#__codelineno-28-7 id=__codelineno-28-7 name=__codelineno-28-7></a><span class=s>        "commands": [</span>
</span><span id=__span-28-8><a href=#__codelineno-28-8 id=__codelineno-28-8 name=__codelineno-28-8></a><span class=s>            {</span>
</span><span id=__span-28-9><a href=#__codelineno-28-9 id=__codelineno-28-9 name=__codelineno-28-9></a><span class=s>                "action": "delete",</span>
</span><span id=__span-28-10><a href=#__codelineno-28-10 id=__codelineno-28-10 name=__codelineno-28-10></a><span class=s>                "path": "/system/information"</span>
</span><span id=__span-28-11><a href=#__codelineno-28-11 id=__codelineno-28-11 name=__codelineno-28-11></a><span class=s>            }</span>
</span><span id=__span-28-12><a href=#__codelineno-28-12 id=__codelineno-28-12 name=__codelineno-28-12></a><span class=s>        ]</span>
</span><span id=__span-28-13><a href=#__codelineno-28-13 id=__codelineno-28-13 name=__codelineno-28-13></a><span class=s>    }</span>
</span><span id=__span-28-14><a href=#__codelineno-28-14 id=__codelineno-28-14 name=__codelineno-28-14></a><span class=s>}</span>
</span><span id=__span-28-15><a href=#__codelineno-28-15 id=__codelineno-28-15 name=__codelineno-28-15></a><span class=s>EOF</span>
</span></code></pre></div></p> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-29-1><a href=#__codelineno-29-1 id=__codelineno-29-1 name=__codelineno-29-1></a><span class=p>{</span>
</span><span id=__span-29-2><a href=#__codelineno-29-2 id=__codelineno-29-2 name=__codelineno-29-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-29-3><a href=#__codelineno-29-3 id=__codelineno-29-3 name=__codelineno-29-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-29-4><a href=#__codelineno-29-4 id=__codelineno-29-4 name=__codelineno-29-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-29-5><a href=#__codelineno-29-5 id=__codelineno-29-5 name=__codelineno-29-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-29-6><a href=#__codelineno-29-6 id=__codelineno-29-6 name=__codelineno-29-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-29-7><a href=#__codelineno-29-7 id=__codelineno-29-7 name=__codelineno-29-7></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>Verify that the container is now empty: <div class="language-bash highlight"><pre><span></span><code><span id=__span-30-1><a href=#__codelineno-30-1 id=__codelineno-30-1 name=__codelineno-30-1></a>❯<span class=w> </span>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>clab-srl01-srl<span class=w> </span>sr_cli<span class=w> </span>info<span class=w> </span>from<span class=w> </span>running<span class=w> </span>/system<span class=w> </span>information
</span><span id=__span-30-2><a href=#__codelineno-30-2 id=__codelineno-30-2 name=__codelineno-30-2></a>system<span class=w> </span><span class=o>{</span>
</span><span id=__span-30-3><a href=#__codelineno-30-3 id=__codelineno-30-3 name=__codelineno-30-3></a><span class=w>    </span>information<span class=w> </span><span class=o>{</span>
</span><span id=__span-30-4><a href=#__codelineno-30-4 id=__codelineno-30-4 name=__codelineno-30-4></a><span class=w>    </span><span class=o>}</span>
</span><span id=__span-30-5><a href=#__codelineno-30-5 id=__codelineno-30-5 name=__codelineno-30-5></a><span class=o>}</span>
</span></code></pre></div></p> </div> </div> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Delete operation will not error when trying to delete a valid but non-existing node.</p> </div> <h4 id=multiple-actions>Multiple actions<a class=headerlink href=#multiple-actions title="Permanent link">#</a></h4> <p>For advanced configuration management tasks JSON-RPC interface allows to batch different actions in a single RPC. Multiple commands with various actions can be part of an RPC message body; these actions are going to be applied to the same private candidate datastore that JSON-RPC interfaces uses and will be committed together as a single transaction.</p> <p>For example, let's create an RPC that will have all the actions batched together:</p> <div class="tabbed-set tabbed-alternate" data-tabs=9:2><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><input id=__tabbed_9_2 name=__tabbed_9 type=radio><div class=tabbed-labels><label for=__tabbed_9_1>Request</label><label for=__tabbed_9_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>In this composite request we replace the description for the management interface, then create a new network-instance <code>vrf-red</code> and finally deleteing a login banner. All those actions will be committed together as a single transaction.</p> <p><div class="language-bash highlight"><pre><span></span><code><span id=__span-31-1><a href=#__codelineno-31-1 id=__codelineno-31-1 name=__codelineno-31-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-31-2><a href=#__codelineno-31-2 id=__codelineno-31-2 name=__codelineno-31-2></a><span class=s>{</span>
</span><span id=__span-31-3><a href=#__codelineno-31-3 id=__codelineno-31-3 name=__codelineno-31-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-31-4><a href=#__codelineno-31-4 id=__codelineno-31-4 name=__codelineno-31-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-31-5><a href=#__codelineno-31-5 id=__codelineno-31-5 name=__codelineno-31-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-31-6><a href=#__codelineno-31-6 id=__codelineno-31-6 name=__codelineno-31-6></a><span class=s>    "params": {</span>
</span><span id=__span-31-7><a href=#__codelineno-31-7 id=__codelineno-31-7 name=__codelineno-31-7></a><span class=s>        "commands": [</span>
</span><span id=__span-31-8><a href=#__codelineno-31-8 id=__codelineno-31-8 name=__codelineno-31-8></a><span class=s>            {</span>
</span><span id=__span-31-9><a href=#__codelineno-31-9 id=__codelineno-31-9 name=__codelineno-31-9></a><span class=s>                "action": "replace",</span>
</span><span id=__span-31-10><a href=#__codelineno-31-10 id=__codelineno-31-10 name=__codelineno-31-10></a><span class=s>                "path": "/interface[name=mgmt0]/description:set-via-multi-cmd-json-rpc"</span>
</span><span id=__span-31-11><a href=#__codelineno-31-11 id=__codelineno-31-11 name=__codelineno-31-11></a><span class=s>            },</span>
</span><span id=__span-31-12><a href=#__codelineno-31-12 id=__codelineno-31-12 name=__codelineno-31-12></a><span class=s>            {</span>
</span><span id=__span-31-13><a href=#__codelineno-31-13 id=__codelineno-31-13 name=__codelineno-31-13></a><span class=s>                "action": "update",</span>
</span><span id=__span-31-14><a href=#__codelineno-31-14 id=__codelineno-31-14 name=__codelineno-31-14></a><span class=s>                "path": "/network-instance[name=vrf-red]",</span>
</span><span id=__span-31-15><a href=#__codelineno-31-15 id=__codelineno-31-15 name=__codelineno-31-15></a><span class=s>                "value": {</span>
</span><span id=__span-31-16><a href=#__codelineno-31-16 id=__codelineno-31-16 name=__codelineno-31-16></a><span class=s>                    "name": "vrf-red",</span>
</span><span id=__span-31-17><a href=#__codelineno-31-17 id=__codelineno-31-17 name=__codelineno-31-17></a><span class=s>                    "description": "set-via-json-rpc"</span>
</span><span id=__span-31-18><a href=#__codelineno-31-18 id=__codelineno-31-18 name=__codelineno-31-18></a><span class=s>                }</span>
</span><span id=__span-31-19><a href=#__codelineno-31-19 id=__codelineno-31-19 name=__codelineno-31-19></a><span class=s>            },</span>
</span><span id=__span-31-20><a href=#__codelineno-31-20 id=__codelineno-31-20 name=__codelineno-31-20></a><span class=s>            {</span>
</span><span id=__span-31-21><a href=#__codelineno-31-21 id=__codelineno-31-21 name=__codelineno-31-21></a><span class=s>                "action": "delete",</span>
</span><span id=__span-31-22><a href=#__codelineno-31-22 id=__codelineno-31-22 name=__codelineno-31-22></a><span class=s>                "path": "/system/banner/login-banner"</span>
</span><span id=__span-31-23><a href=#__codelineno-31-23 id=__codelineno-31-23 name=__codelineno-31-23></a><span class=s>            }</span>
</span><span id=__span-31-24><a href=#__codelineno-31-24 id=__codelineno-31-24 name=__codelineno-31-24></a><span class=s>        ]</span>
</span><span id=__span-31-25><a href=#__codelineno-31-25 id=__codelineno-31-25 name=__codelineno-31-25></a><span class=s>    }</span>
</span><span id=__span-31-26><a href=#__codelineno-31-26 id=__codelineno-31-26 name=__codelineno-31-26></a><span class=s>}</span>
</span><span id=__span-31-27><a href=#__codelineno-31-27 id=__codelineno-31-27 name=__codelineno-31-27></a><span class=s>EOF</span>
</span></code></pre></div> This example also shows how to create an element of a list (like a new network instance) - specify the key in the <code>path</code> and the content of the list member in the <code>value</code>.</p> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-32-1><a href=#__codelineno-32-1 id=__codelineno-32-1 name=__codelineno-32-1></a><span class=p>{</span>
</span><span id=__span-32-2><a href=#__codelineno-32-2 id=__codelineno-32-2 name=__codelineno-32-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-32-3><a href=#__codelineno-32-3 id=__codelineno-32-3 name=__codelineno-32-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-32-4><a href=#__codelineno-32-4 id=__codelineno-32-4 name=__codelineno-32-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-32-5><a href=#__codelineno-32-5 id=__codelineno-32-5 name=__codelineno-32-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-32-6><a href=#__codelineno-32-6 id=__codelineno-32-6 name=__codelineno-32-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-32-7><a href=#__codelineno-32-7 id=__codelineno-32-7 name=__codelineno-32-7></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <h4 id=tools-commands>Tools commands<a class=headerlink href=#tools-commands title="Permanent link">#</a></h4> <p>Set method allows users to invoke operational commands that use a specific <code>tools</code> datastore. These commands are typically RPCs themselves, as they invoke some action on the SR Linux NOS.</p> <p>For example, <code>/tools interface mgmt0 statistics clear</code> command when invoked via CLI will clear stats for <code>mgmt0</code> interface. The same command can be called out using the Set method, as well as using the CLI method.<br> The difference being that with Set method users should specify the modelled path using gNMI path notations, while with the CLI method users use the syntax of the CLI.</p> <div class="tabbed-set tabbed-alternate" data-tabs=10:4><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><input id=__tabbed_10_2 name=__tabbed_10 type=radio><input id=__tabbed_10_3 name=__tabbed_10 type=radio><input id=__tabbed_10_4 name=__tabbed_10 type=radio><div class=tabbed-labels><label for=__tabbed_10_1>Initial state</label><label for=__tabbed_10_2>Request</label><label for=__tabbed_10_3>Response</label><label for=__tabbed_10_4>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Check the amount of incoming octets for mgmt0 interface. <div class="language-text highlight"><pre><span></span><code><span id=__span-33-1><a href=#__codelineno-33-1 id=__codelineno-33-1 name=__codelineno-33-1></a>--{ + running }--[  ]--
</span><span id=__span-33-2><a href=#__codelineno-33-2 id=__codelineno-33-2 name=__codelineno-33-2></a>A:srl# info from state /interface mgmt0 statistics in-octets  
</span><span id=__span-33-3><a href=#__codelineno-33-3 id=__codelineno-33-3 name=__codelineno-33-3></a>    interface mgmt0 {
</span><span id=__span-33-4><a href=#__codelineno-33-4 id=__codelineno-33-4 name=__codelineno-33-4></a>        statistics {
</span><span id=__span-33-5><a href=#__codelineno-33-5 id=__codelineno-33-5 name=__codelineno-33-5></a>            in-octets 383557
</span><span id=__span-33-6><a href=#__codelineno-33-6 id=__codelineno-33-6 name=__codelineno-33-6></a>        }
</span><span id=__span-33-7><a href=#__codelineno-33-7 id=__codelineno-33-7 name=__codelineno-33-7></a>    }
</span></code></pre></div></p> </div> <div class=tabbed-block> <p>Clearing statistics of <code>mgmt0</code> interface by calling the <code>/tools</code> command using the modelled path<sup id=fnref:6><a class=footnote-ref href=#fn:6>6</a></sup>. <div class="language-bash highlight"><pre><span></span><code><span id=__span-34-1><a href=#__codelineno-34-1 id=__codelineno-34-1 name=__codelineno-34-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-34-2><a href=#__codelineno-34-2 id=__codelineno-34-2 name=__codelineno-34-2></a><span class=s>{</span>
</span><span id=__span-34-3><a href=#__codelineno-34-3 id=__codelineno-34-3 name=__codelineno-34-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-34-4><a href=#__codelineno-34-4 id=__codelineno-34-4 name=__codelineno-34-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-34-5><a href=#__codelineno-34-5 id=__codelineno-34-5 name=__codelineno-34-5></a><span class=s>    "method": "set",</span>
</span><span id=__span-34-6><a href=#__codelineno-34-6 id=__codelineno-34-6 name=__codelineno-34-6></a><span class=s>    "params": {</span>
</span><span id=__span-34-7><a href=#__codelineno-34-7 id=__codelineno-34-7 name=__codelineno-34-7></a><span class=s>        "datastore": "tools",</span>
</span><span id=__span-34-8><a href=#__codelineno-34-8 id=__codelineno-34-8 name=__codelineno-34-8></a><span class=s>        "commands": [</span>
</span><span id=__span-34-9><a href=#__codelineno-34-9 id=__codelineno-34-9 name=__codelineno-34-9></a><span class=s>            {</span>
</span><span id=__span-34-10><a href=#__codelineno-34-10 id=__codelineno-34-10 name=__codelineno-34-10></a><span class=s>                "action": "update",</span>
</span><span id=__span-34-11><a href=#__codelineno-34-11 id=__codelineno-34-11 name=__codelineno-34-11></a><span class=s>                "path": "/interface[name=mgmt0]/statistics/clear"</span>
</span><span id=__span-34-12><a href=#__codelineno-34-12 id=__codelineno-34-12 name=__codelineno-34-12></a><span class=s>            }</span>
</span><span id=__span-34-13><a href=#__codelineno-34-13 id=__codelineno-34-13 name=__codelineno-34-13></a><span class=s>        ]</span>
</span><span id=__span-34-14><a href=#__codelineno-34-14 id=__codelineno-34-14 name=__codelineno-34-14></a><span class=s>    }</span>
</span><span id=__span-34-15><a href=#__codelineno-34-15 id=__codelineno-34-15 name=__codelineno-34-15></a><span class=s>}</span>
</span><span id=__span-34-16><a href=#__codelineno-34-16 id=__codelineno-34-16 name=__codelineno-34-16></a><span class=s>EOF</span>
</span></code></pre></div></p> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-35-1><a href=#__codelineno-35-1 id=__codelineno-35-1 name=__codelineno-35-1></a><span class=p>{</span>
</span><span id=__span-35-2><a href=#__codelineno-35-2 id=__codelineno-35-2 name=__codelineno-35-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-35-3><a href=#__codelineno-35-3 id=__codelineno-35-3 name=__codelineno-35-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-35-4><a href=#__codelineno-35-4 id=__codelineno-35-4 name=__codelineno-35-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-35-5><a href=#__codelineno-35-5 id=__codelineno-35-5 name=__codelineno-35-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-35-6><a href=#__codelineno-35-6 id=__codelineno-35-6 name=__codelineno-35-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-35-7><a href=#__codelineno-35-7 id=__codelineno-35-7 name=__codelineno-35-7></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>The following output shows that the stats has been cleared via the tools command executed via JSON-RPC. <div class="language-text highlight"><pre><span></span><code><span id=__span-36-1><a href=#__codelineno-36-1 id=__codelineno-36-1 name=__codelineno-36-1></a>--{ + running }--[  ]--
</span><span id=__span-36-2><a href=#__codelineno-36-2 id=__codelineno-36-2 name=__codelineno-36-2></a>A:srl# info from state /interface mgmt0 statistics in-octets
</span><span id=__span-36-3><a href=#__codelineno-36-3 id=__codelineno-36-3 name=__codelineno-36-3></a>    interface mgmt0 {
</span><span id=__span-36-4><a href=#__codelineno-36-4 id=__codelineno-36-4 name=__codelineno-36-4></a>        statistics {
</span><span id=__span-36-5><a href=#__codelineno-36-5 id=__codelineno-36-5 name=__codelineno-36-5></a>            in-octets 4379
</span><span id=__span-36-6><a href=#__codelineno-36-6 id=__codelineno-36-6 name=__codelineno-36-6></a>        }
</span><span id=__span-36-7><a href=#__codelineno-36-7 id=__codelineno-36-7 name=__codelineno-36-7></a>    }
</span></code></pre></div></p> </div> </div> </div> <h3 id=validate>Validate<a class=headerlink href=#validate title="Permanent link">#</a></h3> <p>One of the infamous fallacies that people associate with gNMI is its inability to work with candidate datastores, do confirmed commits and validate configs. While JSON-RPC interface doesn't let you do incremental updates to an opened candidate datastore with the Set method, it allows you to validate a portion of a config using Validate method.</p> <p>Under the hood, SR Linux executes <code>commit validate</code> command on the provided configuration blob, and no configuration changes are made to the system. The goal of Validate method is to give users a way to ensure that the config they are about to push will be accepted.</p> <p>Validate method works with the same actions as Set method - update, replace and delete. For example, lets take our composite change request from the <a href=#multiple-actions>last exercise</a> and validate it.</p> <div class="tabbed-set tabbed-alternate" data-tabs=11:2><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><input id=__tabbed_11_2 name=__tabbed_11 type=radio><div class=tabbed-labels><label for=__tabbed_11_1>Request</label><label for=__tabbed_11_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-37-1><a href=#__codelineno-37-1 id=__codelineno-37-1 name=__codelineno-37-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-37-2><a href=#__codelineno-37-2 id=__codelineno-37-2 name=__codelineno-37-2></a><span class=s>{</span>
</span><span id=__span-37-3><a href=#__codelineno-37-3 id=__codelineno-37-3 name=__codelineno-37-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-37-4><a href=#__codelineno-37-4 id=__codelineno-37-4 name=__codelineno-37-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-37-5><a href=#__codelineno-37-5 id=__codelineno-37-5 name=__codelineno-37-5></a><span class=s>    "method": "validate",</span>
</span><span id=__span-37-6><a href=#__codelineno-37-6 id=__codelineno-37-6 name=__codelineno-37-6></a><span class=s>    "params": {</span>
</span><span id=__span-37-7><a href=#__codelineno-37-7 id=__codelineno-37-7 name=__codelineno-37-7></a><span class=s>        "commands": [</span>
</span><span id=__span-37-8><a href=#__codelineno-37-8 id=__codelineno-37-8 name=__codelineno-37-8></a><span class=s>            {</span>
</span><span id=__span-37-9><a href=#__codelineno-37-9 id=__codelineno-37-9 name=__codelineno-37-9></a><span class=s>                "action": "replace",</span>
</span><span id=__span-37-10><a href=#__codelineno-37-10 id=__codelineno-37-10 name=__codelineno-37-10></a><span class=s>                "path": "/interface[name=mgmt0]/description:set-via-multi-cmd-json-rpc"</span>
</span><span id=__span-37-11><a href=#__codelineno-37-11 id=__codelineno-37-11 name=__codelineno-37-11></a><span class=s>            },</span>
</span><span id=__span-37-12><a href=#__codelineno-37-12 id=__codelineno-37-12 name=__codelineno-37-12></a><span class=s>            {</span>
</span><span id=__span-37-13><a href=#__codelineno-37-13 id=__codelineno-37-13 name=__codelineno-37-13></a><span class=s>                "action": "update",</span>
</span><span id=__span-37-14><a href=#__codelineno-37-14 id=__codelineno-37-14 name=__codelineno-37-14></a><span class=s>                "path": "/network-instance[name=vrf-red]",</span>
</span><span id=__span-37-15><a href=#__codelineno-37-15 id=__codelineno-37-15 name=__codelineno-37-15></a><span class=s>                "value": {</span>
</span><span id=__span-37-16><a href=#__codelineno-37-16 id=__codelineno-37-16 name=__codelineno-37-16></a><span class=s>                    "name": "vrf-red",</span>
</span><span id=__span-37-17><a href=#__codelineno-37-17 id=__codelineno-37-17 name=__codelineno-37-17></a><span class=s>                    "description": "set-via-json-rpc"</span>
</span><span id=__span-37-18><a href=#__codelineno-37-18 id=__codelineno-37-18 name=__codelineno-37-18></a><span class=s>                }</span>
</span><span id=__span-37-19><a href=#__codelineno-37-19 id=__codelineno-37-19 name=__codelineno-37-19></a><span class=s>            },</span>
</span><span id=__span-37-20><a href=#__codelineno-37-20 id=__codelineno-37-20 name=__codelineno-37-20></a><span class=s>            {</span>
</span><span id=__span-37-21><a href=#__codelineno-37-21 id=__codelineno-37-21 name=__codelineno-37-21></a><span class=s>                "action": "delete",</span>
</span><span id=__span-37-22><a href=#__codelineno-37-22 id=__codelineno-37-22 name=__codelineno-37-22></a><span class=s>                "path": "/system/banner/login-banner"</span>
</span><span id=__span-37-23><a href=#__codelineno-37-23 id=__codelineno-37-23 name=__codelineno-37-23></a><span class=s>            }</span>
</span><span id=__span-37-24><a href=#__codelineno-37-24 id=__codelineno-37-24 name=__codelineno-37-24></a><span class=s>        ]</span>
</span><span id=__span-37-25><a href=#__codelineno-37-25 id=__codelineno-37-25 name=__codelineno-37-25></a><span class=s>    }</span>
</span><span id=__span-37-26><a href=#__codelineno-37-26 id=__codelineno-37-26 name=__codelineno-37-26></a><span class=s>}</span>
</span><span id=__span-37-27><a href=#__codelineno-37-27 id=__codelineno-37-27 name=__codelineno-37-27></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-38-1><a href=#__codelineno-38-1 id=__codelineno-38-1 name=__codelineno-38-1></a><span class=p>{</span>
</span><span id=__span-38-2><a href=#__codelineno-38-2 id=__codelineno-38-2 name=__codelineno-38-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-38-3><a href=#__codelineno-38-3 id=__codelineno-38-3 name=__codelineno-38-3></a><span class=w>    </span><span class=p>{}</span>
</span><span id=__span-38-4><a href=#__codelineno-38-4 id=__codelineno-38-4 name=__codelineno-38-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-38-5><a href=#__codelineno-38-5 id=__codelineno-38-5 name=__codelineno-38-5></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-38-6><a href=#__codelineno-38-6 id=__codelineno-38-6 name=__codelineno-38-6></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-38-7><a href=#__codelineno-38-7 id=__codelineno-38-7 name=__codelineno-38-7></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>The empty result object indicates that changes were successfully validated and no errors were detected. What happens when the changes are not valid? Let's make some errors in our request, for example, let's try setting a description for an invalid interface:</p> <div class="tabbed-set tabbed-alternate" data-tabs=12:2><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><input id=__tabbed_12_2 name=__tabbed_12 type=radio><div class=tabbed-labels><label for=__tabbed_12_1>Request</label><label for=__tabbed_12_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-39-1><a href=#__codelineno-39-1 id=__codelineno-39-1 name=__codelineno-39-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-39-2><a href=#__codelineno-39-2 id=__codelineno-39-2 name=__codelineno-39-2></a><span class=s>{</span>
</span><span id=__span-39-3><a href=#__codelineno-39-3 id=__codelineno-39-3 name=__codelineno-39-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-39-4><a href=#__codelineno-39-4 id=__codelineno-39-4 name=__codelineno-39-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-39-5><a href=#__codelineno-39-5 id=__codelineno-39-5 name=__codelineno-39-5></a><span class=s>    "method": "validate",</span>
</span><span id=__span-39-6><a href=#__codelineno-39-6 id=__codelineno-39-6 name=__codelineno-39-6></a><span class=s>    "params": {</span>
</span><span id=__span-39-7><a href=#__codelineno-39-7 id=__codelineno-39-7 name=__codelineno-39-7></a><span class=s>        "commands": [</span>
</span><span id=__span-39-8><a href=#__codelineno-39-8 id=__codelineno-39-8 name=__codelineno-39-8></a><span class=s>            {</span>
</span><span id=__span-39-9><a href=#__codelineno-39-9 id=__codelineno-39-9 name=__codelineno-39-9></a><span class=s>                "action": "update",</span>
</span><span id=__span-39-10><a href=#__codelineno-39-10 id=__codelineno-39-10 name=__codelineno-39-10></a><span class=s>                "path": "/interface[name=GigabitEthernet1/0]/description:set-via-json-rpc"</span>
</span><span id=__span-39-11><a href=#__codelineno-39-11 id=__codelineno-39-11 name=__codelineno-39-11></a><span class=s>            }</span>
</span><span id=__span-39-12><a href=#__codelineno-39-12 id=__codelineno-39-12 name=__codelineno-39-12></a><span class=s>        ]</span>
</span><span id=__span-39-13><a href=#__codelineno-39-13 id=__codelineno-39-13 name=__codelineno-39-13></a><span class=s>    }</span>
</span><span id=__span-39-14><a href=#__codelineno-39-14 id=__codelineno-39-14 name=__codelineno-39-14></a><span class=s>}</span>
</span><span id=__span-39-15><a href=#__codelineno-39-15 id=__codelineno-39-15 name=__codelineno-39-15></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-40-1><a href=#__codelineno-40-1 id=__codelineno-40-1 name=__codelineno-40-1></a><span class=p>{</span>
</span><span id=__span-40-2><a href=#__codelineno-40-2 id=__codelineno-40-2 name=__codelineno-40-2></a><span class=w>  </span><span class=nt>"error"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-40-3><a href=#__codelineno-40-3 id=__codelineno-40-3 name=__codelineno-40-3></a><span class=w>    </span><span class=nt>"code"</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=p>,</span>
</span><span id=__span-40-4><a href=#__codelineno-40-4 id=__codelineno-40-4 name=__codelineno-40-4></a><span class=w>    </span><span class=nt>"message"</span><span class=p>:</span><span class=w> </span><span class=s2>"Failed to parse value 'GigabitEthernet1/0' for key 'name' (node 'interface') - Invalid value \"GigabitEthernet1/0\": Must match the pattern '(mgmt0|mgmt0-standby|system0|lo(0|1[0-9][0-9]|2([0-4][0-9]|5[0-5])|[1-9][0-9]|[1-9])|lif-.*|vhn-.*|enp(0|1[0-9][0-9]|2([0-4][0-9]|5[0-5])|[1-9][0-9]|[1-9])s(0|[1-9]|[1-2][0-9]|3[0-1])f[0-7]|ethernet-([1-9](\\d){0,1}(/[abcd])?(/[1-9](\\d){0,1})?/(([1-9](\\d){0,1})|(1[0-1]\\d)|(12[0-8])))|irb(0|1[0-9][0-9]|2([0-4][0-9]|5[0-5])|[1-9][0-9]|[1-9])|lag(([1-9](\\d){0,1})|(1[0-1]\\d)|(12[0-8])))'"</span>
</span><span id=__span-40-5><a href=#__codelineno-40-5 id=__codelineno-40-5 name=__codelineno-40-5></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-40-6><a href=#__codelineno-40-6 id=__codelineno-40-6 name=__codelineno-40-6></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-40-7><a href=#__codelineno-40-7 id=__codelineno-40-7 name=__codelineno-40-7></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-40-8><a href=#__codelineno-40-8 id=__codelineno-40-8 name=__codelineno-40-8></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>And SR Linux immediately returns an error explaining where exactly the error was.</p> <h3 id=cli>CLI<a class=headerlink href=#cli title="Permanent link">#</a></h3> <p>One of the reasons we ended up having JSON-RPC interface and not RESTCONF was the need to support CLI-formatted operations. At SR Linux, we are big believers in all things modeled, but we can't neglect the fact that transition to model-based world may take time for some teams. In the interim, these teams can effectively accomplish operational tasks using CLI-based automation.</p> <p>With JSON-RPC CLI method we allow users to remotely execute CLI commands while offering HTTP transport reliability and saving users from the burdens of screen scraping.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>CLI method also allows to call CLI commands that are not modelled, such as aliases or plugins (e.g. <code>show version</code>). But it is not possible to execute interactive commands, e.g. <code>ping</code>, <code>bash</code>, etc.</p> </div> <p>Staring with basics, let's see what it takes to execute a simple <code>show version</code> command using JSON-RPC?</p> <div class="tabbed-set tabbed-alternate" data-tabs=13:4><input checked=checked id=__tabbed_13_1 name=__tabbed_13 type=radio><input id=__tabbed_13_2 name=__tabbed_13 type=radio><input id=__tabbed_13_3 name=__tabbed_13 type=radio><input id=__tabbed_13_4 name=__tabbed_13 type=radio><div class=tabbed-labels><label for=__tabbed_13_1>Request</label><label for=__tabbed_13_2>Response</label><label for=__tabbed_13_3>Executed in CLI with JSON formatting</label><label for=__tabbed_13_4>Executed in CLI</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-41-1><a href=#__codelineno-41-1 id=__codelineno-41-1 name=__codelineno-41-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-41-2><a href=#__codelineno-41-2 id=__codelineno-41-2 name=__codelineno-41-2></a><span class=s>{</span>
</span><span id=__span-41-3><a href=#__codelineno-41-3 id=__codelineno-41-3 name=__codelineno-41-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-41-4><a href=#__codelineno-41-4 id=__codelineno-41-4 name=__codelineno-41-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-41-5><a href=#__codelineno-41-5 id=__codelineno-41-5 name=__codelineno-41-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-41-6><a href=#__codelineno-41-6 id=__codelineno-41-6 name=__codelineno-41-6></a><span class=s>    "params": {</span>
</span><span id=__span-41-7><a href=#__codelineno-41-7 id=__codelineno-41-7 name=__codelineno-41-7></a><span class=s>        "commands": [</span>
</span><span id=__span-41-8><a href=#__codelineno-41-8 id=__codelineno-41-8 name=__codelineno-41-8></a><span class=s>            "show version"</span>
</span><span id=__span-41-9><a href=#__codelineno-41-9 id=__codelineno-41-9 name=__codelineno-41-9></a><span class=s>        ]</span>
</span><span id=__span-41-10><a href=#__codelineno-41-10 id=__codelineno-41-10 name=__codelineno-41-10></a><span class=s>    }</span>
</span><span id=__span-41-11><a href=#__codelineno-41-11 id=__codelineno-41-11 name=__codelineno-41-11></a><span class=s>}</span>
</span><span id=__span-41-12><a href=#__codelineno-41-12 id=__codelineno-41-12 name=__codelineno-41-12></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-42-1><a href=#__codelineno-42-1 id=__codelineno-42-1 name=__codelineno-42-1></a><span class=p>{</span>
</span><span id=__span-42-2><a href=#__codelineno-42-2 id=__codelineno-42-2 name=__codelineno-42-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-42-3><a href=#__codelineno-42-3 id=__codelineno-42-3 name=__codelineno-42-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-42-4><a href=#__codelineno-42-4 id=__codelineno-42-4 name=__codelineno-42-4></a><span class=w>      </span><span class=nt>"basic system info"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-42-5><a href=#__codelineno-42-5 id=__codelineno-42-5 name=__codelineno-42-5></a><span class=w>        </span><span class=nt>"Hostname"</span><span class=p>:</span><span class=w> </span><span class=s2>"srl"</span><span class=p>,</span>
</span><span id=__span-42-6><a href=#__codelineno-42-6 id=__codelineno-42-6 name=__codelineno-42-6></a><span class=w>        </span><span class=nt>"Chassis Type"</span><span class=p>:</span><span class=w> </span><span class=s2>"7220 IXR-D3L"</span><span class=p>,</span>
</span><span id=__span-42-7><a href=#__codelineno-42-7 id=__codelineno-42-7 name=__codelineno-42-7></a><span class=w>        </span><span class=nt>"Part Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"Sim Part No."</span><span class=p>,</span>
</span><span id=__span-42-8><a href=#__codelineno-42-8 id=__codelineno-42-8 name=__codelineno-42-8></a><span class=w>        </span><span class=nt>"Serial Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"Sim Serial No."</span><span class=p>,</span>
</span><span id=__span-42-9><a href=#__codelineno-42-9 id=__codelineno-42-9 name=__codelineno-42-9></a><span class=w>        </span><span class=nt>"System HW MAC Address"</span><span class=p>:</span><span class=w> </span><span class=s2>"1A:90:00:FF:00:00"</span><span class=p>,</span>
</span><span id=__span-42-10><a href=#__codelineno-42-10 id=__codelineno-42-10 name=__codelineno-42-10></a><span class=w>        </span><span class=nt>"Software Version"</span><span class=p>:</span><span class=w> </span><span class=s2>"v22.11.1"</span><span class=p>,</span>
</span><span id=__span-42-11><a href=#__codelineno-42-11 id=__codelineno-42-11 name=__codelineno-42-11></a><span class=w>        </span><span class=nt>"Build Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"184-g6eeaa254f7"</span><span class=p>,</span>
</span><span id=__span-42-12><a href=#__codelineno-42-12 id=__codelineno-42-12 name=__codelineno-42-12></a><span class=w>        </span><span class=nt>"Architecture"</span><span class=p>:</span><span class=w> </span><span class=s2>"x86_64"</span><span class=p>,</span>
</span><span id=__span-42-13><a href=#__codelineno-42-13 id=__codelineno-42-13 name=__codelineno-42-13></a><span class=w>        </span><span class=nt>"Last Booted"</span><span class=p>:</span><span class=w> </span><span class=s2>"2022-12-06T11:38:51.482Z"</span><span class=p>,</span>
</span><span id=__span-42-14><a href=#__codelineno-42-14 id=__codelineno-42-14 name=__codelineno-42-14></a><span class=w>        </span><span class=nt>"Total Memory"</span><span class=p>:</span><span class=w> </span><span class=s2>"24052875 kB"</span><span class=p>,</span>
</span><span id=__span-42-15><a href=#__codelineno-42-15 id=__codelineno-42-15 name=__codelineno-42-15></a><span class=w>        </span><span class=nt>"Free Memory"</span><span class=p>:</span><span class=w> </span><span class=s2>"17004746 kB"</span>
</span><span id=__span-42-16><a href=#__codelineno-42-16 id=__codelineno-42-16 name=__codelineno-42-16></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-42-17><a href=#__codelineno-42-17 id=__codelineno-42-17 name=__codelineno-42-17></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-42-18><a href=#__codelineno-42-18 id=__codelineno-42-18 name=__codelineno-42-18></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-42-19><a href=#__codelineno-42-19 id=__codelineno-42-19 name=__codelineno-42-19></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-42-20><a href=#__codelineno-42-20 id=__codelineno-42-20 name=__codelineno-42-20></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-42-21><a href=#__codelineno-42-21 id=__codelineno-42-21 name=__codelineno-42-21></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-43-1><a href=#__codelineno-43-1 id=__codelineno-43-1 name=__codelineno-43-1></a><span class=mi>--</span><span class=p>{</span><span class=w> </span><span class=err>+</span><span class=w> </span><span class=err>ru</span><span class=kc>nn</span><span class=err>i</span><span class=kc>n</span><span class=err>g</span><span class=w> </span><span class=p>}</span><span class=mi>--</span><span class=p>[</span><span class=w>  </span><span class=p>]</span><span class=mi>--</span>
</span><span id=__span-43-2><a href=#__codelineno-43-2 id=__codelineno-43-2 name=__codelineno-43-2></a><span class=err>A</span><span class=p>:</span><span class=err>srl#</span><span class=w> </span><span class=err>show</span><span class=w> </span><span class=err>versio</span><span class=kc>n</span><span class=w> </span><span class=err>|</span><span class=w> </span><span class=err>as</span><span class=w> </span><span class=err>jso</span><span class=kc>n</span><span class=w>  </span>
</span><span id=__span-43-3><a href=#__codelineno-43-3 id=__codelineno-43-3 name=__codelineno-43-3></a><span class=p>{</span>
</span><span id=__span-43-4><a href=#__codelineno-43-4 id=__codelineno-43-4 name=__codelineno-43-4></a><span class=w>  </span><span class=nt>"basic system info"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-43-5><a href=#__codelineno-43-5 id=__codelineno-43-5 name=__codelineno-43-5></a><span class=w>    </span><span class=nt>"Hostname"</span><span class=p>:</span><span class=w> </span><span class=s2>"srl"</span><span class=p>,</span>
</span><span id=__span-43-6><a href=#__codelineno-43-6 id=__codelineno-43-6 name=__codelineno-43-6></a><span class=w>    </span><span class=nt>"Chassis Type"</span><span class=p>:</span><span class=w> </span><span class=s2>"7220 IXR-D3L"</span><span class=p>,</span>
</span><span id=__span-43-7><a href=#__codelineno-43-7 id=__codelineno-43-7 name=__codelineno-43-7></a><span class=w>    </span><span class=nt>"Part Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"Sim Part No."</span><span class=p>,</span>
</span><span id=__span-43-8><a href=#__codelineno-43-8 id=__codelineno-43-8 name=__codelineno-43-8></a><span class=w>    </span><span class=nt>"Serial Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"Sim Serial No."</span><span class=p>,</span>
</span><span id=__span-43-9><a href=#__codelineno-43-9 id=__codelineno-43-9 name=__codelineno-43-9></a><span class=w>    </span><span class=nt>"System HW MAC Address"</span><span class=p>:</span><span class=w> </span><span class=s2>"1A:90:00:FF:00:00"</span><span class=p>,</span>
</span><span id=__span-43-10><a href=#__codelineno-43-10 id=__codelineno-43-10 name=__codelineno-43-10></a><span class=w>    </span><span class=nt>"Software Version"</span><span class=p>:</span><span class=w> </span><span class=s2>"v22.11.1"</span><span class=p>,</span>
</span><span id=__span-43-11><a href=#__codelineno-43-11 id=__codelineno-43-11 name=__codelineno-43-11></a><span class=w>    </span><span class=nt>"Build Number"</span><span class=p>:</span><span class=w> </span><span class=s2>"184-g6eeaa254f7"</span><span class=p>,</span>
</span><span id=__span-43-12><a href=#__codelineno-43-12 id=__codelineno-43-12 name=__codelineno-43-12></a><span class=w>    </span><span class=nt>"Architecture"</span><span class=p>:</span><span class=w> </span><span class=s2>"x86_64"</span><span class=p>,</span>
</span><span id=__span-43-13><a href=#__codelineno-43-13 id=__codelineno-43-13 name=__codelineno-43-13></a><span class=w>    </span><span class=nt>"Last Booted"</span><span class=p>:</span><span class=w> </span><span class=s2>"2022-12-06T11:38:51.482Z"</span><span class=p>,</span>
</span><span id=__span-43-14><a href=#__codelineno-43-14 id=__codelineno-43-14 name=__codelineno-43-14></a><span class=w>    </span><span class=nt>"Total Memory"</span><span class=p>:</span><span class=w> </span><span class=s2>"24052875 kB"</span><span class=p>,</span>
</span><span id=__span-43-15><a href=#__codelineno-43-15 id=__codelineno-43-15 name=__codelineno-43-15></a><span class=w>    </span><span class=nt>"Free Memory"</span><span class=p>:</span><span class=w> </span><span class=s2>"16858484 kB"</span>
</span><span id=__span-43-16><a href=#__codelineno-43-16 id=__codelineno-43-16 name=__codelineno-43-16></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-43-17><a href=#__codelineno-43-17 id=__codelineno-43-17 name=__codelineno-43-17></a><span class=p>}</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-44-1><a href=#__codelineno-44-1 id=__codelineno-44-1 name=__codelineno-44-1></a>--<span class=o>{</span><span class=w> </span>+<span class=w> </span>running<span class=w> </span><span class=o>}</span>--<span class=o>[</span><span class=w>  </span><span class=o>]</span>--
</span><span id=__span-44-2><a href=#__codelineno-44-2 id=__codelineno-44-2 name=__codelineno-44-2></a>A:srl#<span class=w> </span>show<span class=w> </span>version
</span><span id=__span-44-3><a href=#__codelineno-44-3 id=__codelineno-44-3 name=__codelineno-44-3></a>---------------------------------------------------
</span><span id=__span-44-4><a href=#__codelineno-44-4 id=__codelineno-44-4 name=__codelineno-44-4></a>Hostname<span class=w>             </span>:<span class=w> </span>srl
</span><span id=__span-44-5><a href=#__codelineno-44-5 id=__codelineno-44-5 name=__codelineno-44-5></a>Chassis<span class=w> </span>Type<span class=w>         </span>:<span class=w> </span><span class=m>7220</span><span class=w> </span>IXR-D3L
</span><span id=__span-44-6><a href=#__codelineno-44-6 id=__codelineno-44-6 name=__codelineno-44-6></a>Part<span class=w> </span>Number<span class=w>          </span>:<span class=w> </span>Sim<span class=w> </span>Part<span class=w> </span>No.
</span><span id=__span-44-7><a href=#__codelineno-44-7 id=__codelineno-44-7 name=__codelineno-44-7></a>Serial<span class=w> </span>Number<span class=w>        </span>:<span class=w> </span>Sim<span class=w> </span>Serial<span class=w> </span>No.
</span><span id=__span-44-8><a href=#__codelineno-44-8 id=__codelineno-44-8 name=__codelineno-44-8></a>System<span class=w> </span>HW<span class=w> </span>MAC<span class=w> </span>Address:<span class=w> </span>1A:90:00:FF:00:00
</span><span id=__span-44-9><a href=#__codelineno-44-9 id=__codelineno-44-9 name=__codelineno-44-9></a>Software<span class=w> </span>Version<span class=w>     </span>:<span class=w> </span>v22.11.1
</span><span id=__span-44-10><a href=#__codelineno-44-10 id=__codelineno-44-10 name=__codelineno-44-10></a>Build<span class=w> </span>Number<span class=w>         </span>:<span class=w> </span><span class=m>184</span>-g6eeaa254f7
</span><span id=__span-44-11><a href=#__codelineno-44-11 id=__codelineno-44-11 name=__codelineno-44-11></a>Architecture<span class=w>         </span>:<span class=w> </span>x86_64
</span><span id=__span-44-12><a href=#__codelineno-44-12 id=__codelineno-44-12 name=__codelineno-44-12></a>Last<span class=w> </span>Booted<span class=w>          </span>:<span class=w> </span><span class=m>2022</span>-12-06T11:38:51.482Z
</span><span id=__span-44-13><a href=#__codelineno-44-13 id=__codelineno-44-13 name=__codelineno-44-13></a>Total<span class=w> </span>Memory<span class=w>         </span>:<span class=w> </span><span class=m>24052875</span><span class=w> </span>kB
</span><span id=__span-44-14><a href=#__codelineno-44-14 id=__codelineno-44-14 name=__codelineno-44-14></a>Free<span class=w> </span>Memory<span class=w>          </span>:<span class=w> </span><span class=m>16973972</span><span class=w> </span>kB
</span><span id=__span-44-15><a href=#__codelineno-44-15 id=__codelineno-44-15 name=__codelineno-44-15></a>---------------------------------------------------
</span></code></pre></div> </div> </div> </div> <p>Okay, there is a lot of output here, focus first on the request message. In the request body, we have <code>cli</code> method set, and the <code>commands</code> list contains a list of strings, where each string is a CLI command as it is seen in the CLI. We have only one command to execute, hence our list has only one element - <code>show version</code>.</p> <p>The response message contains a list of results. Since we had only one command, our results list contains a single element, which matches the output of the <code>show version | as json</code> command when it is invoked in the CLI.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The peculiar <code>"basic system info"</code> key in the response is a special node name that is set in the <code>show version</code> plugin of the CLI as a constant.</p> <p>SR Linux uses a concept of CLI plugins for all its <code>show</code> commands, and each such command has a root node name that has a unique name. For <code>show version</code> command this node name is <code>basic system info</code>.</p> </div> <h4 id=output-format>Output format<a class=headerlink href=#output-format title="Permanent link">#</a></h4> <p>Alright, we executed a CLI command, but the returned result is formed as JSON, which is a default formatting option for JSON-RPC. Can we influence that? Turns out we can.</p> <p>With <code>output-format</code> field of the request we can choose the formatting of the returned data:</p> <ul> <li>json - the default format option</li> <li>text - textual/ascii output as seen in the CLI</li> <li>table - table view of the returned data</li> </ul> <div class="tabbed-set tabbed-alternate" data-tabs=14:4><input checked=checked id=__tabbed_14_1 name=__tabbed_14 type=radio><input id=__tabbed_14_2 name=__tabbed_14 type=radio><input id=__tabbed_14_3 name=__tabbed_14 type=radio><input id=__tabbed_14_4 name=__tabbed_14 type=radio><div class=tabbed-labels><label for=__tabbed_14_1>Req with <code>text</code></label><label for=__tabbed_14_2>Resp with <code>text</code></label><label for=__tabbed_14_3>Req with <code>table</code></label><label for=__tabbed_14_4>Resp with <code>table</code></label></div> <div class=tabbed-content> <div class=tabbed-block> <p><code>jq</code> arguments used in this command filter out the result element and use the raw processing to render newlines. <div class="language-bash highlight"><pre><span></span><code><span id=__span-45-1><a href=#__codelineno-45-1 id=__codelineno-45-1 name=__codelineno-45-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq -r '.result[]'</span>
</span><span id=__span-45-2><a href=#__codelineno-45-2 id=__codelineno-45-2 name=__codelineno-45-2></a><span class=s>{</span>
</span><span id=__span-45-3><a href=#__codelineno-45-3 id=__codelineno-45-3 name=__codelineno-45-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-45-4><a href=#__codelineno-45-4 id=__codelineno-45-4 name=__codelineno-45-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-45-5><a href=#__codelineno-45-5 id=__codelineno-45-5 name=__codelineno-45-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-45-6><a href=#__codelineno-45-6 id=__codelineno-45-6 name=__codelineno-45-6></a><span class=s>    "params": {</span>
</span><span id=__span-45-7><a href=#__codelineno-45-7 id=__codelineno-45-7 name=__codelineno-45-7></a><span class=s>        "commands": [</span>
</span><span id=__span-45-8><a href=#__codelineno-45-8 id=__codelineno-45-8 name=__codelineno-45-8></a><span class=s>            "show version"</span>
</span><span id=__span-45-9><a href=#__codelineno-45-9 id=__codelineno-45-9 name=__codelineno-45-9></a><span class=s>        ],</span>
</span><span id=__span-45-10><a href=#__codelineno-45-10 id=__codelineno-45-10 name=__codelineno-45-10></a><span class=s>        "output-format": "text"</span>
</span><span id=__span-45-11><a href=#__codelineno-45-11 id=__codelineno-45-11 name=__codelineno-45-11></a><span class=s>    }</span>
</span><span id=__span-45-12><a href=#__codelineno-45-12 id=__codelineno-45-12 name=__codelineno-45-12></a><span class=s>}</span>
</span><span id=__span-45-13><a href=#__codelineno-45-13 id=__codelineno-45-13 name=__codelineno-45-13></a><span class=s>EOF</span>
</span></code></pre></div></p> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-46-1><a href=#__codelineno-46-1 id=__codelineno-46-1 name=__codelineno-46-1></a>-------------------------------------------------------------
</span><span id=__span-46-2><a href=#__codelineno-46-2 id=__codelineno-46-2 name=__codelineno-46-2></a>Hostname<span class=w>             </span>:<span class=w> </span>srl
</span><span id=__span-46-3><a href=#__codelineno-46-3 id=__codelineno-46-3 name=__codelineno-46-3></a>Chassis<span class=w> </span>Type<span class=w>         </span>:<span class=w> </span><span class=m>7220</span><span class=w> </span>IXR-D3L
</span><span id=__span-46-4><a href=#__codelineno-46-4 id=__codelineno-46-4 name=__codelineno-46-4></a>Part<span class=w> </span>Number<span class=w>          </span>:<span class=w> </span>Sim<span class=w> </span>Part<span class=w> </span>No.
</span><span id=__span-46-5><a href=#__codelineno-46-5 id=__codelineno-46-5 name=__codelineno-46-5></a>Serial<span class=w> </span>Number<span class=w>        </span>:<span class=w> </span>Sim<span class=w> </span>Serial<span class=w> </span>No.
</span><span id=__span-46-6><a href=#__codelineno-46-6 id=__codelineno-46-6 name=__codelineno-46-6></a>System<span class=w> </span>HW<span class=w> </span>MAC<span class=w> </span>Address:<span class=w> </span>1A:90:00:FF:00:00
</span><span id=__span-46-7><a href=#__codelineno-46-7 id=__codelineno-46-7 name=__codelineno-46-7></a>Software<span class=w> </span>Version<span class=w>     </span>:<span class=w> </span>v22.11.1
</span><span id=__span-46-8><a href=#__codelineno-46-8 id=__codelineno-46-8 name=__codelineno-46-8></a>Build<span class=w> </span>Number<span class=w>         </span>:<span class=w> </span><span class=m>184</span>-g6eeaa254f7
</span><span id=__span-46-9><a href=#__codelineno-46-9 id=__codelineno-46-9 name=__codelineno-46-9></a>Architecture<span class=w>         </span>:<span class=w> </span>x86_64
</span><span id=__span-46-10><a href=#__codelineno-46-10 id=__codelineno-46-10 name=__codelineno-46-10></a>Last<span class=w> </span>Booted<span class=w>          </span>:<span class=w> </span><span class=m>2022</span>-12-06T11:38:51.482Z
</span><span id=__span-46-11><a href=#__codelineno-46-11 id=__codelineno-46-11 name=__codelineno-46-11></a>Total<span class=w> </span>Memory<span class=w>         </span>:<span class=w> </span><span class=m>24052875</span><span class=w> </span>kB
</span><span id=__span-46-12><a href=#__codelineno-46-12 id=__codelineno-46-12 name=__codelineno-46-12></a>Free<span class=w> </span>Memory<span class=w>          </span>:<span class=w> </span><span class=m>16414484</span><span class=w> </span>kB
</span><span id=__span-46-13><a href=#__codelineno-46-13 id=__codelineno-46-13 name=__codelineno-46-13></a>-------------------------------------------------------------
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-47-1><a href=#__codelineno-47-1 id=__codelineno-47-1 name=__codelineno-47-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq -r '.result[]'</span>
</span><span id=__span-47-2><a href=#__codelineno-47-2 id=__codelineno-47-2 name=__codelineno-47-2></a><span class=s>{</span>
</span><span id=__span-47-3><a href=#__codelineno-47-3 id=__codelineno-47-3 name=__codelineno-47-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-47-4><a href=#__codelineno-47-4 id=__codelineno-47-4 name=__codelineno-47-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-47-5><a href=#__codelineno-47-5 id=__codelineno-47-5 name=__codelineno-47-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-47-6><a href=#__codelineno-47-6 id=__codelineno-47-6 name=__codelineno-47-6></a><span class=s>    "params": {</span>
</span><span id=__span-47-7><a href=#__codelineno-47-7 id=__codelineno-47-7 name=__codelineno-47-7></a><span class=s>        "commands": [</span>
</span><span id=__span-47-8><a href=#__codelineno-47-8 id=__codelineno-47-8 name=__codelineno-47-8></a><span class=s>            "show version"</span>
</span><span id=__span-47-9><a href=#__codelineno-47-9 id=__codelineno-47-9 name=__codelineno-47-9></a><span class=s>        ],</span>
</span><span id=__span-47-10><a href=#__codelineno-47-10 id=__codelineno-47-10 name=__codelineno-47-10></a><span class=s>        "output-format": "table"</span>
</span><span id=__span-47-11><a href=#__codelineno-47-11 id=__codelineno-47-11 name=__codelineno-47-11></a><span class=s>    }</span>
</span><span id=__span-47-12><a href=#__codelineno-47-12 id=__codelineno-47-12 name=__codelineno-47-12></a><span class=s>}</span>
</span><span id=__span-47-13><a href=#__codelineno-47-13 id=__codelineno-47-13 name=__codelineno-47-13></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-48-1><a href=#__codelineno-48-1 id=__codelineno-48-1 name=__codelineno-48-1></a>+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+
</span><span id=__span-48-2><a href=#__codelineno-48-2 id=__codelineno-48-2 name=__codelineno-48-2></a><span class=p>|</span><span class=w>    </span>Hostname<span class=w>     </span><span class=p>|</span><span class=w>  </span>Chassis<span class=w> </span>Type<span class=w>   </span><span class=p>|</span><span class=w>   </span>Part<span class=w> </span>Number<span class=w>   </span><span class=p>|</span><span class=w>  </span>Serial<span class=w> </span>Number<span class=w>  </span><span class=p>|</span><span class=w>  </span>System<span class=w> </span>HW<span class=w> </span>MAC<span class=w>  </span><span class=p>|</span><span class=w>    </span>Software<span class=w>     </span><span class=p>|</span><span class=w>  </span>Build<span class=w> </span>Number<span class=w>   </span><span class=p>|</span><span class=w>  </span>Architecture<span class=w>   </span><span class=p>|</span><span class=w>   </span>Last<span class=w> </span>Booted<span class=w>   </span><span class=p>|</span><span class=w>  </span>Total<span class=w> </span>Memory<span class=w>   </span><span class=p>|</span><span class=w>   </span>Free<span class=w> </span>Memory<span class=w>   </span><span class=p>|</span>
</span><span id=__span-48-3><a href=#__codelineno-48-3 id=__codelineno-48-3 name=__codelineno-48-3></a><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>     </span>Address<span class=w>     </span><span class=p>|</span><span class=w>     </span>Version<span class=w>     </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span>
</span><span id=__span-48-4><a href=#__codelineno-48-4 id=__codelineno-48-4 name=__codelineno-48-4></a>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+<span class=o>=================</span>+
</span><span id=__span-48-5><a href=#__codelineno-48-5 id=__codelineno-48-5 name=__codelineno-48-5></a><span class=p>|</span><span class=w> </span>srl<span class=w>             </span><span class=p>|</span><span class=w> </span><span class=m>7220</span><span class=w> </span>IXR-D3L<span class=w>    </span><span class=p>|</span><span class=w> </span>Sim<span class=w> </span>Part<span class=w> </span>No.<span class=w>    </span><span class=p>|</span><span class=w> </span>Sim<span class=w> </span>Serial<span class=w> </span>No.<span class=w>  </span><span class=p>|</span><span class=w> </span>1A:90:00:FF:00:<span class=w> </span><span class=p>|</span><span class=w> </span>v22.11.1<span class=w>        </span><span class=p>|</span><span class=w> </span><span class=m>184</span>-g6eeaa254f7<span class=w> </span><span class=p>|</span><span class=w> </span>x86_64<span class=w>          </span><span class=p>|</span><span class=w> </span><span class=m>2022</span>-12-06T11:3<span class=w> </span><span class=p>|</span><span class=w> </span><span class=m>24052875</span><span class=w> </span>kB<span class=w>     </span><span class=p>|</span><span class=w> </span><span class=m>16466207</span><span class=w> </span>kB<span class=w>     </span><span class=p>|</span>
</span><span id=__span-48-6><a href=#__codelineno-48-6 id=__codelineno-48-6 name=__codelineno-48-6></a><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w> </span><span class=m>00</span><span class=w>              </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w> </span><span class=m>8</span>:51.482Z<span class=w>       </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span><span class=w>                 </span><span class=p>|</span>
</span><span id=__span-48-7><a href=#__codelineno-48-7 id=__codelineno-48-7 name=__codelineno-48-7></a>+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+-----------------+
</span></code></pre></div> </div> </div> </div> <h4 id=context-switching>Context switching<a class=headerlink href=#context-switching title="Permanent link">#</a></h4> <p>When using CLI method, the commands entered one after another work exactly the same as when you enter them in the CLI. This means that current working context changes based on the entered commands. For instance, if you first enters to the interface context and then execute the <code>info</code> command, it will work out nicely, since the context switch is persistent across commands in the same RPC.<br> The next RPC, as expected, will not maintain the context of a previous RPC; by default running datastore is activated and <code>/</code> context is set.</p> <div class="tabbed-set tabbed-alternate" data-tabs=15:2><input checked=checked id=__tabbed_15_1 name=__tabbed_15 type=radio><input id=__tabbed_15_2 name=__tabbed_15 type=radio><div class=tabbed-labels><label for=__tabbed_15_1>Request</label><label for=__tabbed_15_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-49-1><a href=#__codelineno-49-1 id=__codelineno-49-1 name=__codelineno-49-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-49-2><a href=#__codelineno-49-2 id=__codelineno-49-2 name=__codelineno-49-2></a><span class=s>{</span>
</span><span id=__span-49-3><a href=#__codelineno-49-3 id=__codelineno-49-3 name=__codelineno-49-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-49-4><a href=#__codelineno-49-4 id=__codelineno-49-4 name=__codelineno-49-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-49-5><a href=#__codelineno-49-5 id=__codelineno-49-5 name=__codelineno-49-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-49-6><a href=#__codelineno-49-6 id=__codelineno-49-6 name=__codelineno-49-6></a><span class=s>    "params": {</span>
</span><span id=__span-49-7><a href=#__codelineno-49-7 id=__codelineno-49-7 name=__codelineno-49-7></a><span class=s>        "commands": [</span>
</span><span id=__span-49-8><a href=#__codelineno-49-8 id=__codelineno-49-8 name=__codelineno-49-8></a><span class=s>            "interface mgmt0",</span>
</span><span id=__span-49-9><a href=#__codelineno-49-9 id=__codelineno-49-9 name=__codelineno-49-9></a><span class=s>            "info"</span>
</span><span id=__span-49-10><a href=#__codelineno-49-10 id=__codelineno-49-10 name=__codelineno-49-10></a><span class=s>        ]</span>
</span><span id=__span-49-11><a href=#__codelineno-49-11 id=__codelineno-49-11 name=__codelineno-49-11></a><span class=s>    }</span>
</span><span id=__span-49-12><a href=#__codelineno-49-12 id=__codelineno-49-12 name=__codelineno-49-12></a><span class=s>}</span>
</span><span id=__span-49-13><a href=#__codelineno-49-13 id=__codelineno-49-13 name=__codelineno-49-13></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-50-1><a href=#__codelineno-50-1 id=__codelineno-50-1 name=__codelineno-50-1></a><span class=p>{</span>
</span><span id=__span-50-2><a href=#__codelineno-50-2 id=__codelineno-50-2 name=__codelineno-50-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-50-3><a href=#__codelineno-50-3 id=__codelineno-50-3 name=__codelineno-50-3></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-50-4><a href=#__codelineno-50-4 id=__codelineno-50-4 name=__codelineno-50-4></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-50-5><a href=#__codelineno-50-5 id=__codelineno-50-5 name=__codelineno-50-5></a><span class=w>      </span><span class=nt>"name"</span><span class=p>:</span><span class=w> </span><span class=s2>"mgmt0"</span><span class=p>,</span>
</span><span id=__span-50-6><a href=#__codelineno-50-6 id=__codelineno-50-6 name=__codelineno-50-6></a><span class=w>      </span><span class=nt>"description"</span><span class=p>:</span><span class=w> </span><span class=s2>"set-via-multi-cmd-json-rpc"</span><span class=p>,</span>
</span><span id=__span-50-7><a href=#__codelineno-50-7 id=__codelineno-50-7 name=__codelineno-50-7></a><span class=w>      </span><span class=nt>"admin-state"</span><span class=p>:</span><span class=w> </span><span class=s2>"enable"</span><span class=p>,</span>
</span><span id=__span-50-8><a href=#__codelineno-50-8 id=__codelineno-50-8 name=__codelineno-50-8></a><span class=w>      </span><span class=nt>"subinterface"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-50-9><a href=#__codelineno-50-9 id=__codelineno-50-9 name=__codelineno-50-9></a><span class=w>        </span><span class=p>{</span>
</span><span id=__span-50-10><a href=#__codelineno-50-10 id=__codelineno-50-10 name=__codelineno-50-10></a><span class=w>          </span><span class=nt>"index"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-50-11><a href=#__codelineno-50-11 id=__codelineno-50-11 name=__codelineno-50-11></a><span class=w>          </span><span class=nt>"admin-state"</span><span class=p>:</span><span class=w> </span><span class=s2>"enable"</span><span class=p>,</span>
</span><span id=__span-50-12><a href=#__codelineno-50-12 id=__codelineno-50-12 name=__codelineno-50-12></a><span class=w>          </span><span class=nt>"ipv4"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-50-13><a href=#__codelineno-50-13 id=__codelineno-50-13 name=__codelineno-50-13></a><span class=w>            </span><span class=nt>"dhcp-client"</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-50-14><a href=#__codelineno-50-14 id=__codelineno-50-14 name=__codelineno-50-14></a><span class=w>          </span><span class=p>},</span>
</span><span id=__span-50-15><a href=#__codelineno-50-15 id=__codelineno-50-15 name=__codelineno-50-15></a><span class=w>          </span><span class=nt>"ipv6"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-50-16><a href=#__codelineno-50-16 id=__codelineno-50-16 name=__codelineno-50-16></a><span class=w>            </span><span class=nt>"dhcp-client"</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-50-17><a href=#__codelineno-50-17 id=__codelineno-50-17 name=__codelineno-50-17></a><span class=w>          </span><span class=p>}</span>
</span><span id=__span-50-18><a href=#__codelineno-50-18 id=__codelineno-50-18 name=__codelineno-50-18></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-50-19><a href=#__codelineno-50-19 id=__codelineno-50-19 name=__codelineno-50-19></a><span class=w>      </span><span class=p>]</span>
</span><span id=__span-50-20><a href=#__codelineno-50-20 id=__codelineno-50-20 name=__codelineno-50-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-50-21><a href=#__codelineno-50-21 id=__codelineno-50-21 name=__codelineno-50-21></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-50-22><a href=#__codelineno-50-22 id=__codelineno-50-22 name=__codelineno-50-22></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-50-23><a href=#__codelineno-50-23 id=__codelineno-50-23 name=__codelineno-50-23></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-50-24><a href=#__codelineno-50-24 id=__codelineno-50-24 name=__codelineno-50-24></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>Note, how the <code>result</code> list contains two elements matching the number of commands used in the request. The first command - <code>/interface mgmt0</code> - doesn't produce any output, as it just enters the context of an interface. The second command though - <code>info</code> - produces the output as it dumps the configuration items for the interface, and we get its output with json formatting.</p> <h4 id=configuration>Configuration<a class=headerlink href=#configuration title="Permanent link">#</a></h4> <p>You guessed it right, you can also perform configuration tasks with CLI method and use the CLI format of the configuration to do that. Let's configure an interface using CLI-styled commands in different ways:</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>When using CLI method for configuration tasks explicit entering into the candidate datastore and committing is necessary.</p> </div> <div class="tabbed-set tabbed-alternate" data-tabs=16:4><input checked=checked id=__tabbed_16_1 name=__tabbed_16 type=radio><input id=__tabbed_16_2 name=__tabbed_16 type=radio><input id=__tabbed_16_3 name=__tabbed_16 type=radio><input id=__tabbed_16_4 name=__tabbed_16 type=radio><div class=tabbed-labels><label for=__tabbed_16_1>Contextual commands</label><label for=__tabbed_16_2>Flattened commands</label><label for=__tabbed_16_3>Config dump</label><label for=__tabbed_16_4>Verification</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>One option to use when executing configuration tasks is to use the commands sequence that an operator would have used. This way every other command respects the present working context.</p> <p>This method is error-prone, since tracking the context changes is tedious. But, still, this is an option.</p> <div class="tabbed-set tabbed-alternate" data-tabs=17:2><input checked=checked id=__tabbed_17_1 name=__tabbed_17 type=radio><input id=__tabbed_17_2 name=__tabbed_17 type=radio><div class=tabbed-labels><label for=__tabbed_17_1>Request</label><label for=__tabbed_17_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-51-1><a href=#__codelineno-51-1 id=__codelineno-51-1 name=__codelineno-51-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-51-2><a href=#__codelineno-51-2 id=__codelineno-51-2 name=__codelineno-51-2></a><span class=s>{</span>
</span><span id=__span-51-3><a href=#__codelineno-51-3 id=__codelineno-51-3 name=__codelineno-51-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-51-4><a href=#__codelineno-51-4 id=__codelineno-51-4 name=__codelineno-51-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-51-5><a href=#__codelineno-51-5 id=__codelineno-51-5 name=__codelineno-51-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-51-6><a href=#__codelineno-51-6 id=__codelineno-51-6 name=__codelineno-51-6></a><span class=s>    "params": {</span>
</span><span id=__span-51-7><a href=#__codelineno-51-7 id=__codelineno-51-7 name=__codelineno-51-7></a><span class=s>        "commands": [</span>
</span><span id=__span-51-8><a href=#__codelineno-51-8 id=__codelineno-51-8 name=__codelineno-51-8></a><span class=s>            "enter candidate",</span>
</span><span id=__span-51-9><a href=#__codelineno-51-9 id=__codelineno-51-9 name=__codelineno-51-9></a><span class=s>            "/interface ethernet-1/1",</span>
</span><span id=__span-51-10><a href=#__codelineno-51-10 id=__codelineno-51-10 name=__codelineno-51-10></a><span class=s>            "description \"this is a new interface\"",</span>
</span><span id=__span-51-11><a href=#__codelineno-51-11 id=__codelineno-51-11 name=__codelineno-51-11></a><span class=s>            "admin-state enable",</span>
</span><span id=__span-51-12><a href=#__codelineno-51-12 id=__codelineno-51-12 name=__codelineno-51-12></a><span class=s>            "commit now"</span>
</span><span id=__span-51-13><a href=#__codelineno-51-13 id=__codelineno-51-13 name=__codelineno-51-13></a><span class=s>        ]</span>
</span><span id=__span-51-14><a href=#__codelineno-51-14 id=__codelineno-51-14 name=__codelineno-51-14></a><span class=s>    }</span>
</span><span id=__span-51-15><a href=#__codelineno-51-15 id=__codelineno-51-15 name=__codelineno-51-15></a><span class=s>}</span>
</span><span id=__span-51-16><a href=#__codelineno-51-16 id=__codelineno-51-16 name=__codelineno-51-16></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-52-1><a href=#__codelineno-52-1 id=__codelineno-52-1 name=__codelineno-52-1></a><span class=p>{</span>
</span><span id=__span-52-2><a href=#__codelineno-52-2 id=__codelineno-52-2 name=__codelineno-52-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-52-3><a href=#__codelineno-52-3 id=__codelineno-52-3 name=__codelineno-52-3></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-52-4><a href=#__codelineno-52-4 id=__codelineno-52-4 name=__codelineno-52-4></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-52-5><a href=#__codelineno-52-5 id=__codelineno-52-5 name=__codelineno-52-5></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-52-6><a href=#__codelineno-52-6 id=__codelineno-52-6 name=__codelineno-52-6></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-52-7><a href=#__codelineno-52-7 id=__codelineno-52-7 name=__codelineno-52-7></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-52-8><a href=#__codelineno-52-8 id=__codelineno-52-8 name=__codelineno-52-8></a><span class=w>      </span><span class=nt>"text"</span><span class=p>:</span><span class=w> </span><span class=s2>"All changes have been committed. Leaving candidate mode.\n"</span>
</span><span id=__span-52-9><a href=#__codelineno-52-9 id=__codelineno-52-9 name=__codelineno-52-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-52-10><a href=#__codelineno-52-10 id=__codelineno-52-10 name=__codelineno-52-10></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-52-11><a href=#__codelineno-52-11 id=__codelineno-52-11 name=__codelineno-52-11></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-52-12><a href=#__codelineno-52-12 id=__codelineno-52-12 name=__codelineno-52-12></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-52-13><a href=#__codelineno-52-13 id=__codelineno-52-13 name=__codelineno-52-13></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> </div> <div class=tabbed-block> <p>Flattened commands are levied from the burdens of the contextual commands, as each command starts from the root. This makes configuration snippets longer, but safer to use.</p> <div class="tabbed-set tabbed-alternate" data-tabs=18:2><input checked=checked id=__tabbed_18_1 name=__tabbed_18 type=radio><input id=__tabbed_18_2 name=__tabbed_18 type=radio><div class=tabbed-labels><label for=__tabbed_18_1>Request</label><label for=__tabbed_18_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-53-1><a href=#__codelineno-53-1 id=__codelineno-53-1 name=__codelineno-53-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-53-2><a href=#__codelineno-53-2 id=__codelineno-53-2 name=__codelineno-53-2></a><span class=s>{</span>
</span><span id=__span-53-3><a href=#__codelineno-53-3 id=__codelineno-53-3 name=__codelineno-53-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-53-4><a href=#__codelineno-53-4 id=__codelineno-53-4 name=__codelineno-53-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-53-5><a href=#__codelineno-53-5 id=__codelineno-53-5 name=__codelineno-53-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-53-6><a href=#__codelineno-53-6 id=__codelineno-53-6 name=__codelineno-53-6></a><span class=s>    "params": {</span>
</span><span id=__span-53-7><a href=#__codelineno-53-7 id=__codelineno-53-7 name=__codelineno-53-7></a><span class=s>        "commands": [</span>
</span><span id=__span-53-8><a href=#__codelineno-53-8 id=__codelineno-53-8 name=__codelineno-53-8></a><span class=s>            "enter candidate",</span>
</span><span id=__span-53-9><a href=#__codelineno-53-9 id=__codelineno-53-9 name=__codelineno-53-9></a><span class=s>            "/interface ethernet-1/1 description \"this is a new interface\" admin-state enable",</span>
</span><span id=__span-53-10><a href=#__codelineno-53-10 id=__codelineno-53-10 name=__codelineno-53-10></a><span class=s>            "commit now"</span>
</span><span id=__span-53-11><a href=#__codelineno-53-11 id=__codelineno-53-11 name=__codelineno-53-11></a><span class=s>        ]</span>
</span><span id=__span-53-12><a href=#__codelineno-53-12 id=__codelineno-53-12 name=__codelineno-53-12></a><span class=s>    }</span>
</span><span id=__span-53-13><a href=#__codelineno-53-13 id=__codelineno-53-13 name=__codelineno-53-13></a><span class=s>}</span>
</span><span id=__span-53-14><a href=#__codelineno-53-14 id=__codelineno-53-14 name=__codelineno-53-14></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-54-1><a href=#__codelineno-54-1 id=__codelineno-54-1 name=__codelineno-54-1></a><span class=p>{</span>
</span><span id=__span-54-2><a href=#__codelineno-54-2 id=__codelineno-54-2 name=__codelineno-54-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-54-3><a href=#__codelineno-54-3 id=__codelineno-54-3 name=__codelineno-54-3></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-54-4><a href=#__codelineno-54-4 id=__codelineno-54-4 name=__codelineno-54-4></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-54-5><a href=#__codelineno-54-5 id=__codelineno-54-5 name=__codelineno-54-5></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-54-6><a href=#__codelineno-54-6 id=__codelineno-54-6 name=__codelineno-54-6></a><span class=w>      </span><span class=nt>"text"</span><span class=p>:</span><span class=w> </span><span class=s2>"All changes have been committed. Leaving candidate mode.\n"</span>
</span><span id=__span-54-7><a href=#__codelineno-54-7 id=__codelineno-54-7 name=__codelineno-54-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-54-8><a href=#__codelineno-54-8 id=__codelineno-54-8 name=__codelineno-54-8></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-54-9><a href=#__codelineno-54-9 id=__codelineno-54-9 name=__codelineno-54-9></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-54-10><a href=#__codelineno-54-10 id=__codelineno-54-10 name=__codelineno-54-10></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-54-11><a href=#__codelineno-54-11 id=__codelineno-54-11 name=__codelineno-54-11></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> </div> <div class=tabbed-block> <p>Another popular way to use CLI-styled configs is to dump the configuration from the device, template or change a few fields in the text blob and use it for configuration. In the example below we did <code>info from running /interface ethernet-1/1</code> and captured the output. We used this output as is in our request body just escaping the quotes.</p> <div class="tabbed-set tabbed-alternate" data-tabs=19:2><input checked=checked id=__tabbed_19_1 name=__tabbed_19 type=radio><input id=__tabbed_19_2 name=__tabbed_19 type=radio><div class=tabbed-labels><label for=__tabbed_19_1>Request</label><label for=__tabbed_19_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-55-1><a href=#__codelineno-55-1 id=__codelineno-55-1 name=__codelineno-55-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-55-2><a href=#__codelineno-55-2 id=__codelineno-55-2 name=__codelineno-55-2></a><span class=s>{</span>
</span><span id=__span-55-3><a href=#__codelineno-55-3 id=__codelineno-55-3 name=__codelineno-55-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-55-4><a href=#__codelineno-55-4 id=__codelineno-55-4 name=__codelineno-55-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-55-5><a href=#__codelineno-55-5 id=__codelineno-55-5 name=__codelineno-55-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-55-6><a href=#__codelineno-55-6 id=__codelineno-55-6 name=__codelineno-55-6></a><span class=s>    "params": {</span>
</span><span id=__span-55-7><a href=#__codelineno-55-7 id=__codelineno-55-7 name=__codelineno-55-7></a><span class=s>        "commands": [</span>
</span><span id=__span-55-8><a href=#__codelineno-55-8 id=__codelineno-55-8 name=__codelineno-55-8></a><span class=s>            "enter candidate",</span>
</span><span id=__span-55-9><a href=#__codelineno-55-9 id=__codelineno-55-9 name=__codelineno-55-9></a><span class=s>            "/interface ethernet-1/1 {</span>
</span><span id=__span-55-10><a href=#__codelineno-55-10 id=__codelineno-55-10 name=__codelineno-55-10></a><span class=s>              description \"this is a new interface\"</span>
</span><span id=__span-55-11><a href=#__codelineno-55-11 id=__codelineno-55-11 name=__codelineno-55-11></a><span class=s>              admin-state enable</span>
</span><span id=__span-55-12><a href=#__codelineno-55-12 id=__codelineno-55-12 name=__codelineno-55-12></a><span class=s>          }",</span>
</span><span id=__span-55-13><a href=#__codelineno-55-13 id=__codelineno-55-13 name=__codelineno-55-13></a><span class=s>            "commit now"</span>
</span><span id=__span-55-14><a href=#__codelineno-55-14 id=__codelineno-55-14 name=__codelineno-55-14></a><span class=s>        ]</span>
</span><span id=__span-55-15><a href=#__codelineno-55-15 id=__codelineno-55-15 name=__codelineno-55-15></a><span class=s>    }</span>
</span><span id=__span-55-16><a href=#__codelineno-55-16 id=__codelineno-55-16 name=__codelineno-55-16></a><span class=s>}</span>
</span><span id=__span-55-17><a href=#__codelineno-55-17 id=__codelineno-55-17 name=__codelineno-55-17></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-56-1><a href=#__codelineno-56-1 id=__codelineno-56-1 name=__codelineno-56-1></a><span class=p>{</span>
</span><span id=__span-56-2><a href=#__codelineno-56-2 id=__codelineno-56-2 name=__codelineno-56-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-56-3><a href=#__codelineno-56-3 id=__codelineno-56-3 name=__codelineno-56-3></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-56-4><a href=#__codelineno-56-4 id=__codelineno-56-4 name=__codelineno-56-4></a><span class=w>    </span><span class=p>{},</span>
</span><span id=__span-56-5><a href=#__codelineno-56-5 id=__codelineno-56-5 name=__codelineno-56-5></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-56-6><a href=#__codelineno-56-6 id=__codelineno-56-6 name=__codelineno-56-6></a><span class=w>      </span><span class=nt>"text"</span><span class=p>:</span><span class=w> </span><span class=s2>"All changes have been committed. Leaving candidate mode.\n"</span>
</span><span id=__span-56-7><a href=#__codelineno-56-7 id=__codelineno-56-7 name=__codelineno-56-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-56-8><a href=#__codelineno-56-8 id=__codelineno-56-8 name=__codelineno-56-8></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-56-9><a href=#__codelineno-56-9 id=__codelineno-56-9 name=__codelineno-56-9></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-56-10><a href=#__codelineno-56-10 id=__codelineno-56-10 name=__codelineno-56-10></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-56-11><a href=#__codelineno-56-11 id=__codelineno-56-11 name=__codelineno-56-11></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> </div> <div class=tabbed-block> <p>All of the methods should result in the same configuration added: <div class="language-bash highlight"><pre><span></span><code><span id=__span-57-1><a href=#__codelineno-57-1 id=__codelineno-57-1 name=__codelineno-57-1></a>❯<span class=w> </span>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>clab-srl01-srl<span class=w> </span>sr_cli<span class=w> </span>info<span class=w> </span>from<span class=w> </span>running<span class=w> </span>/interface<span class=w> </span>ethernet-1/1
</span><span id=__span-57-2><a href=#__codelineno-57-2 id=__codelineno-57-2 name=__codelineno-57-2></a><span class=w>    </span>interface<span class=w> </span>ethernet-1/1<span class=w> </span><span class=o>{</span>
</span><span id=__span-57-3><a href=#__codelineno-57-3 id=__codelineno-57-3 name=__codelineno-57-3></a><span class=w>        </span>description<span class=w> </span><span class=s2>"this is a new interface"</span>
</span><span id=__span-57-4><a href=#__codelineno-57-4 id=__codelineno-57-4 name=__codelineno-57-4></a><span class=w>        </span>admin-state<span class=w> </span><span class=nb>enable</span>
</span><span id=__span-57-5><a href=#__codelineno-57-5 id=__codelineno-57-5 name=__codelineno-57-5></a><span class=w>    </span><span class=o>}</span>
</span></code></pre></div></p> </div> </div> </div> <h4 id=tools-commands_1>Tools commands<a class=headerlink href=#tools-commands_1 title="Permanent link">#</a></h4> <p>Remember how we executed the tools commands within the Set method? We can do the same with CLI method, but in this case we provide the command in the CLI-style. Using the same command to clear statistics counters:</p> <div class="tabbed-set tabbed-alternate" data-tabs=20:2><input checked=checked id=__tabbed_20_1 name=__tabbed_20 type=radio><input id=__tabbed_20_2 name=__tabbed_20 type=radio><div class=tabbed-labels><label for=__tabbed_20_1>Request</label><label for=__tabbed_20_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-58-1><a href=#__codelineno-58-1 id=__codelineno-58-1 name=__codelineno-58-1></a>curl<span class=w> </span>-s<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-58-2><a href=#__codelineno-58-2 id=__codelineno-58-2 name=__codelineno-58-2></a><span class=s>{</span>
</span><span id=__span-58-3><a href=#__codelineno-58-3 id=__codelineno-58-3 name=__codelineno-58-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-58-4><a href=#__codelineno-58-4 id=__codelineno-58-4 name=__codelineno-58-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-58-5><a href=#__codelineno-58-5 id=__codelineno-58-5 name=__codelineno-58-5></a><span class=s>    "method": "cli",</span>
</span><span id=__span-58-6><a href=#__codelineno-58-6 id=__codelineno-58-6 name=__codelineno-58-6></a><span class=s>    "params": {</span>
</span><span id=__span-58-7><a href=#__codelineno-58-7 id=__codelineno-58-7 name=__codelineno-58-7></a><span class=s>        "commands": [</span>
</span><span id=__span-58-8><a href=#__codelineno-58-8 id=__codelineno-58-8 name=__codelineno-58-8></a><span class=s>            "tools interface mgmt0 statistics clear"</span>
</span><span id=__span-58-9><a href=#__codelineno-58-9 id=__codelineno-58-9 name=__codelineno-58-9></a><span class=s>        ]</span>
</span><span id=__span-58-10><a href=#__codelineno-58-10 id=__codelineno-58-10 name=__codelineno-58-10></a><span class=s>    }</span>
</span><span id=__span-58-11><a href=#__codelineno-58-11 id=__codelineno-58-11 name=__codelineno-58-11></a><span class=s>}</span>
</span><span id=__span-58-12><a href=#__codelineno-58-12 id=__codelineno-58-12 name=__codelineno-58-12></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>The result contains the text output of the tools command which confirms that the command worked:</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-59-1><a href=#__codelineno-59-1 id=__codelineno-59-1 name=__codelineno-59-1></a><span class=p>{</span>
</span><span id=__span-59-2><a href=#__codelineno-59-2 id=__codelineno-59-2 name=__codelineno-59-2></a><span class=w>  </span><span class=nt>"result"</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-59-3><a href=#__codelineno-59-3 id=__codelineno-59-3 name=__codelineno-59-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-59-4><a href=#__codelineno-59-4 id=__codelineno-59-4 name=__codelineno-59-4></a><span class=w>      </span><span class=nt>"text"</span><span class=p>:</span><span class=w> </span><span class=s2>"/interface[name=mgmt0]:\n    interface mgmt0 statistics cleared\n\n"</span>
</span><span id=__span-59-5><a href=#__codelineno-59-5 id=__codelineno-59-5 name=__codelineno-59-5></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-59-6><a href=#__codelineno-59-6 id=__codelineno-59-6 name=__codelineno-59-6></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-59-7><a href=#__codelineno-59-7 id=__codelineno-59-7 name=__codelineno-59-7></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-59-8><a href=#__codelineno-59-8 id=__codelineno-59-8 name=__codelineno-59-8></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-59-9><a href=#__codelineno-59-9 id=__codelineno-59-9 name=__codelineno-59-9></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <h2 id=https>HTTPS<a class=headerlink href=#https title="Permanent link">#</a></h2> <p>All of the examples have been using plain HTTP schema. As was explained in the beginning of this tutorial, containerlab configures JSON-RPC server to run both HTTP and HTTPS transports.</p> <p>To use the secured transport any request can be changed to https schema and skipped certificate verification:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-60-1><a href=#__codelineno-60-1 id=__codelineno-60-1 name=__codelineno-60-1></a>curl<span class=w> </span>-sk<span class=w> </span>https://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc<span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-60-2><a href=#__codelineno-60-2 id=__codelineno-60-2 name=__codelineno-60-2></a><span class=s>{</span>
</span><span id=__span-60-3><a href=#__codelineno-60-3 id=__codelineno-60-3 name=__codelineno-60-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-60-4><a href=#__codelineno-60-4 id=__codelineno-60-4 name=__codelineno-60-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-60-5><a href=#__codelineno-60-5 id=__codelineno-60-5 name=__codelineno-60-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-60-6><a href=#__codelineno-60-6 id=__codelineno-60-6 name=__codelineno-60-6></a><span class=s>    "params": {</span>
</span><span id=__span-60-7><a href=#__codelineno-60-7 id=__codelineno-60-7 name=__codelineno-60-7></a><span class=s>        "commands": [</span>
</span><span id=__span-60-8><a href=#__codelineno-60-8 id=__codelineno-60-8 name=__codelineno-60-8></a><span class=s>            {</span>
</span><span id=__span-60-9><a href=#__codelineno-60-9 id=__codelineno-60-9 name=__codelineno-60-9></a><span class=s>                "path": "/system/information/version",</span>
</span><span id=__span-60-10><a href=#__codelineno-60-10 id=__codelineno-60-10 name=__codelineno-60-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-60-11><a href=#__codelineno-60-11 id=__codelineno-60-11 name=__codelineno-60-11></a><span class=s>            }</span>
</span><span id=__span-60-12><a href=#__codelineno-60-12 id=__codelineno-60-12 name=__codelineno-60-12></a><span class=s>        ]</span>
</span><span id=__span-60-13><a href=#__codelineno-60-13 id=__codelineno-60-13 name=__codelineno-60-13></a><span class=s>    }</span>
</span><span id=__span-60-14><a href=#__codelineno-60-14 id=__codelineno-60-14 name=__codelineno-60-14></a><span class=s>}</span>
</span><span id=__span-60-15><a href=#__codelineno-60-15 id=__codelineno-60-15 name=__codelineno-60-15></a><span class=s>EOF</span>
</span></code></pre></div> <p>If you want to verify the self-signed certificate that containerlab generates at startup use the CA certificate that containerlab keeps in the lab directory:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-61-1><a href=#__codelineno-61-1 id=__codelineno-61-1 name=__codelineno-61-1></a>curl<span class=w> </span>-s<span class=w> </span>--cacert<span class=w> </span>./clab-srl01/ca/root/root-ca.pem<span class=w> </span>https://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc<span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF | jq</span>
</span><span id=__span-61-2><a href=#__codelineno-61-2 id=__codelineno-61-2 name=__codelineno-61-2></a><span class=s>{</span>
</span><span id=__span-61-3><a href=#__codelineno-61-3 id=__codelineno-61-3 name=__codelineno-61-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-61-4><a href=#__codelineno-61-4 id=__codelineno-61-4 name=__codelineno-61-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-61-5><a href=#__codelineno-61-5 id=__codelineno-61-5 name=__codelineno-61-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-61-6><a href=#__codelineno-61-6 id=__codelineno-61-6 name=__codelineno-61-6></a><span class=s>    "params": {</span>
</span><span id=__span-61-7><a href=#__codelineno-61-7 id=__codelineno-61-7 name=__codelineno-61-7></a><span class=s>        "commands": [</span>
</span><span id=__span-61-8><a href=#__codelineno-61-8 id=__codelineno-61-8 name=__codelineno-61-8></a><span class=s>            {</span>
</span><span id=__span-61-9><a href=#__codelineno-61-9 id=__codelineno-61-9 name=__codelineno-61-9></a><span class=s>                "path": "/system/information/version",</span>
</span><span id=__span-61-10><a href=#__codelineno-61-10 id=__codelineno-61-10 name=__codelineno-61-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-61-11><a href=#__codelineno-61-11 id=__codelineno-61-11 name=__codelineno-61-11></a><span class=s>            }</span>
</span><span id=__span-61-12><a href=#__codelineno-61-12 id=__codelineno-61-12 name=__codelineno-61-12></a><span class=s>        ]</span>
</span><span id=__span-61-13><a href=#__codelineno-61-13 id=__codelineno-61-13 name=__codelineno-61-13></a><span class=s>    }</span>
</span><span id=__span-61-14><a href=#__codelineno-61-14 id=__codelineno-61-14 name=__codelineno-61-14></a><span class=s>}</span>
</span><span id=__span-61-15><a href=#__codelineno-61-15 id=__codelineno-61-15 name=__codelineno-61-15></a><span class=s>EOF</span>
</span></code></pre></div> <h2 id=error-handling>Error handling<a class=headerlink href=#error-handling title="Permanent link">#</a></h2> <p>When either of the commands specified in the RPC request message fails, the returned message will contain an error, even if other commands might be correct. This atomicity of the commands is valid for both Get and Set methods.</p> <p>For example, the following request has two commands, where 2<sup>nd</sup> command uses a wrong path.</p> <div class="tabbed-set tabbed-alternate" data-tabs=21:2><input checked=checked id=__tabbed_21_1 name=__tabbed_21 type=radio><input id=__tabbed_21_2 name=__tabbed_21 type=radio><div class=tabbed-labels><label for=__tabbed_21_1>Request</label><label for=__tabbed_21_2>Response</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="language-bash highlight"><pre><span></span><code><span id=__span-62-1><a href=#__codelineno-62-1 id=__codelineno-62-1 name=__codelineno-62-1></a>curl<span class=w> </span>-v<span class=w> </span><span class=s1>'http://admin:NokiaSrl1!@clab-srl01-srl/jsonrpc'</span><span class=w> </span>-d<span class=w> </span>@-<span class=w> </span><span class=s>&lt;&lt;EOF</span>
</span><span id=__span-62-2><a href=#__codelineno-62-2 id=__codelineno-62-2 name=__codelineno-62-2></a><span class=s>{</span>
</span><span id=__span-62-3><a href=#__codelineno-62-3 id=__codelineno-62-3 name=__codelineno-62-3></a><span class=s>    "jsonrpc": "2.0",</span>
</span><span id=__span-62-4><a href=#__codelineno-62-4 id=__codelineno-62-4 name=__codelineno-62-4></a><span class=s>    "id": 0,</span>
</span><span id=__span-62-5><a href=#__codelineno-62-5 id=__codelineno-62-5 name=__codelineno-62-5></a><span class=s>    "method": "get",</span>
</span><span id=__span-62-6><a href=#__codelineno-62-6 id=__codelineno-62-6 name=__codelineno-62-6></a><span class=s>    "params": {</span>
</span><span id=__span-62-7><a href=#__codelineno-62-7 id=__codelineno-62-7 name=__codelineno-62-7></a><span class=s>        "commands": [</span>
</span><span id=__span-62-8><a href=#__codelineno-62-8 id=__codelineno-62-8 name=__codelineno-62-8></a><span class=s>            {</span>
</span><span id=__span-62-9><a href=#__codelineno-62-9 id=__codelineno-62-9 name=__codelineno-62-9></a><span class=s>                "path": "/interface[name=mgmt0]/statistics",</span>
</span><span id=__span-62-10><a href=#__codelineno-62-10 id=__codelineno-62-10 name=__codelineno-62-10></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-62-11><a href=#__codelineno-62-11 id=__codelineno-62-11 name=__codelineno-62-11></a><span class=s>            },</span>
</span><span id=__span-62-12><a href=#__codelineno-62-12 id=__codelineno-62-12 name=__codelineno-62-12></a><span class=s>            {</span>
</span><span id=__span-62-13><a href=#__codelineno-62-13 id=__codelineno-62-13 name=__codelineno-62-13></a><span class=s>                "path": "/system/somethingwrong",</span>
</span><span id=__span-62-14><a href=#__codelineno-62-14 id=__codelineno-62-14 name=__codelineno-62-14></a><span class=s>                "datastore": "state"</span>
</span><span id=__span-62-15><a href=#__codelineno-62-15 id=__codelineno-62-15 name=__codelineno-62-15></a><span class=s>            }</span>
</span><span id=__span-62-16><a href=#__codelineno-62-16 id=__codelineno-62-16 name=__codelineno-62-16></a><span class=s>        ]</span>
</span><span id=__span-62-17><a href=#__codelineno-62-17 id=__codelineno-62-17 name=__codelineno-62-17></a><span class=s>    }</span>
</span><span id=__span-62-18><a href=#__codelineno-62-18 id=__codelineno-62-18 name=__codelineno-62-18></a><span class=s>}</span>
</span><span id=__span-62-19><a href=#__codelineno-62-19 id=__codelineno-62-19 name=__codelineno-62-19></a><span class=s>EOF</span>
</span></code></pre></div> </div> <div class=tabbed-block> <div class="language-json highlight"><pre><span></span><code><span id=__span-63-1><a href=#__codelineno-63-1 id=__codelineno-63-1 name=__codelineno-63-1></a><span class=p>{</span>
</span><span id=__span-63-2><a href=#__codelineno-63-2 id=__codelineno-63-2 name=__codelineno-63-2></a><span class=w>  </span><span class=nt>"error"</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-63-3><a href=#__codelineno-63-3 id=__codelineno-63-3 name=__codelineno-63-3></a><span class=w>    </span><span class=nt>"code"</span><span class=p>:</span><span class=w> </span><span class=mi>-1</span><span class=p>,</span>
</span><span id=__span-63-4><a href=#__codelineno-63-4 id=__codelineno-63-4 name=__codelineno-63-4></a><span class=w>    </span><span class=nt>"message"</span><span class=p>:</span><span class=w> </span><span class=s2>"Path not valid - unknown element 'somethingwrong'. Options are [features, trace-options, management, configuration, aaa, authentication, warm-reboot, boot, l2cp-transparency, lacp, lldp, mtu, name, dhcp-server, event-handler, ra-guard-policy, gnmi-server, tls, json-rpc-server, bridge-table, license, dns, ntp, clock, ssh-server, ftp-server, snmp, sflow, load-balancing, banner, information, logging, mirroring, network-instance, maintenance, app-management]"</span>
</span><span id=__span-63-5><a href=#__codelineno-63-5 id=__codelineno-63-5 name=__codelineno-63-5></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-63-6><a href=#__codelineno-63-6 id=__codelineno-63-6 name=__codelineno-63-6></a><span class=w>  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-63-7><a href=#__codelineno-63-7 id=__codelineno-63-7 name=__codelineno-63-7></a><span class=w>  </span><span class=nt>"jsonrpc"</span><span class=p>:</span><span class=w> </span><span class=s2>"2.0"</span>
</span><span id=__span-63-8><a href=#__codelineno-63-8 id=__codelineno-63-8 name=__codelineno-63-8></a><span class=p>}</span>
</span></code></pre></div> </div> </div> </div> <p>The response will contain just an error container, even though technically the first command is correct. Note, that the HTTP response code is still <code>200 OK</code>, since JSON-RPC was able to deliver and execute the RPC, it is just that the RPC lead to an error.</p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>the following versions have been used to create this tutorial. The newer versions might work; please pin the version to the mentioned ones if they don't. <a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">↩</a></p> </li> <li id=fn:2> <p>differences in capabilities that different management interfaces provide are driven by the interfaces standards. <a class=footnote-backref href=#fnref:2 title="Jump back to footnote 2 in the text">↩</a></p> </li> <li id=fn:3> <p>using HTTP POST method. <a class=footnote-backref href=#fnref:3 title="Jump back to footnote 3 in the text">↩</a></p> </li> <li id=fn:4> <p>JSON-RPC, as gNMI, can run in a user-configured network-instance. <a class=footnote-backref href=#fnref:4 title="Jump back to footnote 4 in the text">↩</a></p> </li> <li id=fn:5> <p><a href=https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-path-conventions.md>https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-path-conventions.md</a> <a class=footnote-backref href=#fnref:5 title="Jump back to footnote 5 in the text">↩</a></p> </li> <li id=fn:6> <p>Tools paths can be viewed in our <a href=https://yang.srlinux.dev/v22.11.1/tree.html>tree YANG browser</a>. <a class=footnote-backref href=#fnref:6 title="Jump back to footnote 6 in the text">↩</a></p> </li> <li id=fn:7> <p>Support for setting configuration with Openconfig schema will be added at a later date. Currently only CLI method allows working with Openconfig schema via <code>enter oc</code> command. <a class=footnote-backref href=#fnref:7 title="Jump back to footnote 7 in the text">↩</a></p> </li> </ol> </div> <h2 id=__comments>Comments</h2> <script async crossorigin=anonymous data-category=comments data-category-id=DIC_kwDOFtXuas4CR_vG data-emit-metadata=0 data-input-position=top data-lang=en data-loading=lazy data-mapping=pathname data-reactions-enabled=1 data-repo=srl-labs/learn-srlinux data-repo-id="MDEwOlJlcG9zaXRvcnkzODMxMTg5NTQ=" data-strict=0 data-theme=preferred_color_scheme src=https://giscus.app/client.js>
</script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <a class="md-top md-icon" data-md-component=top hidden href=#> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Copyright and theme information --> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2021-2023 Nokia </div> Made with <span class="twemoji mdx-heart"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M14 20.408c-.492.308-.903.546-1.192.709-.153.086-.308.17-.463.252h-.002a.75.75 0 0 1-.686 0 16.709 16.709 0 0 1-.465-.252 31.147 31.147 0 0 1-4.803-3.34C3.8 15.572 1 12.331 1 8.513 1 5.052 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262A31.146 31.146 0 0 1 14 20.408Z"></path></svg> </span> by <a href=https://github.com/srl-labs rel=noopener target=_blank> SR Linux team </a> </div> <div class=md-social> <a class=md-social__link href=https://discord.gg/tZvgjQ6PZf rel=noopener target=_blank title=discord.gg> <svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"></path></svg> </a> <a class=md-social__link href=https://github.com/srl-labs rel=noopener target=_blank title=github.com> <svg viewbox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a> <a class=md-social__link href=https://twitter.com/ntdvps rel=noopener target=_blank title=twitter.com> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.top", "navigation.instant", "navigation.tabs", "search.suggest", "content.code.annotate", "content.code.copy", "content.code.select", "content.action.edit", "toc.follow", "content.tooltips", "navigation.indexes", "announce.dismiss"], "search": "../../../../assets/javascripts/workers/search.6c7302c4.min.js", "tags": {"media": "media"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.542a4128.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>